<!DOCTYPE html>
<html>
  

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Language" content="es_ES" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-M146BEZEJV"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-M146BEZEJV');
  </script>

  <meta name="description" content="Design consistent, usable libraries.">
  <title>Effective Dart: Design | Dart es Español</title>

  <!-- Favicon / Touch Icons -->
  <link rel="icon" sizes="64x64" href="/assets/shared/dart/icon/64.png">
  <link href="/assets/img/touch-icon-iphone.png" rel="apple-touch-icon">
  <link href="/assets/img/touch-icon-ipad.png" rel="apple-touch-icon" sizes="152x152">
  <link href="/assets/img/touch-icon-iphone-retina.png" rel="apple-touch-icon" sizes="180x180">
  <link href="/assets/img/touch-icon-ipad-retina.png" rel="apple-touch-icon" sizes="167x167">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@dart_lang" />
  <meta name="twitter:title" content="Effective Dart: Design" />
  <meta name="twitter:description" content="Design consistent, usable libraries." />

  <!-- Open Graph -->
  <meta property="og:title" content="Effective Dart: Design" />
  <meta property="og:description" content="Design consistent, usable libraries." />
  <meta property="og:url" content="https://dart.esdocu.com/guides/language/effective-dart/design" />
  
  <meta property="og:image" content="https://dart.esdocu.com/assets/shared/dart-logo-for-shares.png?2" />
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans+Display:wght@400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans+Mono:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap" rel="stylesheet">
  <script 
    src="https://use.fontawesome.com/releases/v5.15.4/js/all.js"
    data-auto-replace-svg="nest">
  </script>

  <link rel="stylesheet" href="/assets/css/main.css?v=1662220220">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
          integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK"
          crossorigin="anonymous"
          referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.1/umd/popper.min.js"
          integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
          crossorigin="anonymous"
          referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.1/js/bootstrap.min.js"
          integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2"
          crossorigin="anonymous"
          referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js" 
          integrity="sha512-wT7uPE7tOP6w4o28u1DN775jYjHQApdBnib5Pho4RB0Pgd9y7eSkAV1BTqQydupYDB9GBhTcQQzyNMPMV3cAew==" 
          crossorigin="anonymous" 
          referrerpolicy="no-referrer"></script>

  <script src="/assets/js/vendor/code-prettify/prettify.js"></script>
  <script src="/assets/js/vendor/code-prettify/lang-css.js"></script>
  <script src="/assets/js/vendor/code-prettify/lang-dart.js"></script>
  <script src="/assets/js/vendor/code-prettify/lang-yaml.js"></script>
  <script src="/assets/js/os-tabs.js?v=1662220220"></script>
  <script src="/assets/js/utilities.js?v=1662220220"></script>
  <script src="/assets/js/main.js?v=1662220220"></script>

  <script>

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-26406144-4', 'auto');
ga('send', 'pageview');

</script>


 </head>

  <body class="default show_banner">
    <section id="cookie-notice">
  <div class="container">
    <p>Google utiliza cookies para prestar sus servicios, personalizar anuncios y analizar el tráfico. 
      Puedes ajustar tus controles de privacidad en cualquier momento en tu 
      <a href="https://myaccount.google.com/data-and-personalization" target="_blank" rel="noopener" class="no-automatic-external">Configuración de Google</a>.
      <a href="https://policies.google.com/technologies/cookies" target="_blank" rel="noopener" class="no-automatic-external">Más información</a>.
    </p>
    <button id="cookie-consent" class="btn btn-primary">Entiendo</button>
  </div>
</section>

    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5VSZM5J"
 height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <header id="page-header" class="site-header">
  <nav id="mainnav" class="site-header">
  <div id="menu-toggle"><i class="material-icons">menu</i></div>
  <a href="/" class="brand" title="Dart es Español">
    <img src="/assets/img/shared/dart/logo+text/horizontal/white.svg" alt="Dart es Español">
  </a>
  <ul class="navbar">
    <li>
      <a href="/overview" class="nav-link">Overview</a>
    </li>
    <li class="mainnav__get-started">
      <a href="/guides" class="nav-link
         active">
        <span>Docs</span>
      </a>
    </li>
    <li>
      <a href="/community" class="nav-link">Comunidad</a>
    </li>
    <li>
      <a href="/#try-dart" class="nav-link">Probar Dart</a>
    </li>
    <li>
      <a href="/get-dart" class="nav-link">Obtener Dart</a>
    </li>
    <li class="searchfield">
      <form action="/search" class="site-header__search form-inline" id="cse-search-box">
        <input type="hidden" name="cx" value="011220921317074318178:_yy-tmb5t_i">
        <input type="hidden" name="ie" value="UTF-8">
        <input type="hidden" name="hl" value="en">
        <input class="site-header__searchfield form-control search-field" type="search" name="q"
          id="q" autocomplete="off" placeholder="Search" aria-label="Search">
      </form>
    </li>
  </ul>
</nav>

  
</header>
 <div class="banner">
  <p class="banner__text">
    Dart 2.18 ya está disponible con interoperabilidad de Objective-C y Swift y mejoras de networking, la inferencia de tipos y el rendimiento del código asíncrono. <a href="https://medium.com/@mit.mit/dart-2-18-f4b3101f146c">Más información</a><br>
    Los equipos de Flutter y Dart están contratando.
    <a href="https://docs.flutter.dev/jobs">Más información</a>
  </p>
</div> 

    <div id="sidenav" class="">
  <form action="/search/" class="site-header__search form-inline">
    <input class="site-header__searchfield form-control search-field" type="search" name="q"
           id="q" autocomplete="off" placeholder="Search" aria-label="Search">
  </form>

  <div class="site-sidebar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a href="/overview" class="nav-link">Overview</a>
      </li>
      <li class="nav-item">
        <a href="/community" class="nav-link">Comunidad</a>
      </li>
      <li class="nav-item">
        <a href="https://dartpad.dev" class="nav-link">Probar Dart</a>
      </li>
      <li class="nav-item">
        <a href="/get-dart" class="nav-link">Obtener Dart</a>
      </li>
      <li class="nav-item">
        <a href="/guides" class="nav-link active">Docs</a>
      </li>
    </ul>

    <ul class="nav flex-column"><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-1" role="button"
        aria-expanded="false" aria-controls="sidenav-1"
      >Samples & tutorials</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-1">
        <li class="nav-item">
    <a class="nav-link" href="/samples">Language samples</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable"
      data-toggle="collapse" data-target="#sidenav-1-2"
      href="#sidenav-1-2" role="button"
      aria-expanded="true" aria-controls="sidenav-1-2"
    >Codelabs
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-1-2">
      <li class="nav-item">
    <a class="nav-link" href="/codelabs">List of Dart codelabs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/codelabs/dart-cheatsheet">Language cheatsheet</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/codelabs/iterables">Iterable collections</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/codelabs/async-await">Asynchronous programming</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/codelabs/null-safety">Null safety</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/tutorials">Tutorials</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link active" data-toggle="collapse" href="#sidenav-2" role="button"
        aria-expanded="true" aria-controls="sidenav-2"
      >Language</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-2">
        <li class="nav-item">
    <a class="nav-link" href="/guides/language/language-tour">Tour</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/type-system">Type system</a>
  </li><li class="nav-item">
    <a class="nav-link active collapsable"
      data-toggle="collapse" data-target="#sidenav-2-3"
      href="#sidenav-2-3" role="button"
      aria-expanded="true" aria-controls="sidenav-2-3"
    >Effective Dart
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-2-3">
      <li class="nav-item">
    <a class="nav-link" href="/guides/language/effective-dart">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/effective-dart/style">Style</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/effective-dart/documentation">Documentation</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/effective-dart/usage">Usage</a>
  </li><li class="nav-item">
    <a class="nav-link active" href="/guides/language/effective-dart/design">Design</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-2-4"
      href="#sidenav-2-4" role="button"
      aria-expanded="false" aria-controls="sidenav-2-4"
    >Coming from ...
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-2-4">
      <li class="nav-item">
    <a class="nav-link" href="/guides/language/coming-from/js-to-dart">JavaScript to Dart</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/guides/language/extension-methods">Extension methods</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/concurrency">Concurrency</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/numbers">Numbers</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-2-8"
      href="#sidenav-2-8" role="button"
      aria-expanded="false" aria-controls="sidenav-2-8"
    >Null safety
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-2-8">
      <li class="nav-item">
    <a class="nav-link" href="/null-safety">Overview: Sound null safety</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/null-safety/migration-guide">Migrating to null safety</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/null-safety/understanding-null-safety">Understanding null safety</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/null-safety/unsound-null-safety">Unsound null safety</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/null-safety/faq">FAQ</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/guides/language/evolution">Evolution</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/spec">Specification</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-3" role="button"
        aria-expanded="false" aria-controls="sidenav-3"
      >Core libraries</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3">
        <li class="nav-item">
    <a class="nav-link" href="/guides/libraries">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/library-tour">Tour</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-3"
      href="#sidenav-3-3" role="button"
      aria-expanded="false" aria-controls="sidenav-3-3"
    >Articles
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-3">
      <li class="nav-item">
    <a class="nav-link" href="/articles/libraries/dart-io">Intro to dart:io</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/articles/libraries/creating-streams">Creating streams</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-4" role="button"
        aria-expanded="false" aria-controls="sidenav-4"
      >Packages</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-4">
        <li class="nav-item">
    <a class="nav-link" href="/guides/packages">How to use packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/useful-libraries">Commonly used packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/create-library-packages">Creating packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/publishing">Publishing packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/writing-package-pages">Writing package pages</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-4-6"
      href="#sidenav-4-6" role="button"
      aria-expanded="false" aria-controls="sidenav-4-6"
    >Package reference
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-4-6">
      <li class="nav-item">
    <a class="nav-link" href="/tools/pub/dependencies">Dependencies</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/glossary">Glossary</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/package-layout">Package layout conventions</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/environment-variables">Pub environment variables</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/pubspec">Pubspec file</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/troubleshoot">Troubleshooting pub</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/verified-publishers">Verified publishers</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/versioning">Versioning</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-5" role="button"
        aria-expanded="false" aria-controls="sidenav-5"
      >Development</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5">
        <li class="nav-item">
    <a class="nav-link" href="/codelabs/async-await">Futures, async, await</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/language/streams">Streams</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/json">JSON</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-4"
      href="#sidenav-5-4" role="button"
      aria-expanded="false" aria-controls="sidenav-5-4"
    >Interoperability
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-4">
      <li class="nav-item">
    <a class="nav-link" href="/guides/libraries/c-interop">C interop</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/objective-c-interop">Objective-C and Swift interop</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/web/js-interop">JavaScript interop</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/guides/google-apis">Google APIs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/multiplatform-apps">Multi-platform apps</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-7"
      href="#sidenav-5-7" role="button"
      aria-expanded="false" aria-controls="sidenav-5-7"
    >Command-line & server apps
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-7">
      <li class="nav-item">
    <a class="nav-link" href="/server">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/server/get-started">Get started</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/server/cmdline">Write command-line apps</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/server/httpserver">Write HTTP servers</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/server/libraries">Libraries and packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/server/google-cloud">Google Cloud</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-8"
      href="#sidenav-5-8" role="button"
      aria-expanded="false" aria-controls="sidenav-5-8"
    >Web apps
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-8">
      <li class="nav-item">
    <a class="nav-link" href="/web">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/web/get-started">Get started</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/web/fetch-data">Fetch data dynamically</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-8-4"
      href="#sidenav-5-8-4" role="button"
      aria-expanded="false" aria-controls="sidenav-5-8-4"
    >Low-level web programming
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-8-4">
      <li class="nav-item">
    <a class="nav-link" href="/tutorials/web/low-level-html/connect-dart-html">Connect Dart & HTML</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tutorials/web/low-level-html/add-elements">Add elements to the DOM</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tutorials/web/low-level-html/remove-elements">Remove DOM elements</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/web/deployment">Deployment</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/web/libraries">Libraries and packages</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-6" role="button"
        aria-expanded="false" aria-controls="sidenav-6"
      >Tools & techniques</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6">
        <li class="nav-item">
    <a class="nav-link" href="/tools">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-2"
      href="#sidenav-6-2" role="button"
      aria-expanded="false" aria-controls="sidenav-6-2"
    >Editors & debuggers
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-2">
      <li class="nav-item">
    <a class="nav-link" href="/tools/jetbrains-plugin">IntelliJ & Android Studio</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/vs-code">VS Code</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/dart-devtools">Dart DevTools</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/dartpad">DartPad</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-3"
      href="#sidenav-6-3" role="button"
      aria-expanded="false" aria-controls="sidenav-6-3"
    >Command-line tools
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-3">
      <li class="nav-item">
    <a class="nav-link collapsable"
      data-toggle="collapse" data-target="#sidenav-6-3-1"
      href="#sidenav-6-3-1" role="button"
      aria-expanded="true" aria-controls="sidenav-6-3-1"
    >Dart SDK
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-6-3-1">
      <li class="nav-item">
    <a class="nav-link" href="/tools/sdk">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-tool">dart</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-analyze">dart analyze</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-compile">dart compile</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-create">dart create</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-doc">dart doc</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-fix">dart fix</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-format">dart format</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/pub/cmd">dart pub</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-run">dart run</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-test">dart test</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dartaotruntime">dartaotruntime</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/experiment-flags">Experiment flags</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable"
      data-toggle="collapse" data-target="#sidenav-6-3-2"
      href="#sidenav-6-3-2" role="button"
      aria-expanded="true" aria-controls="sidenav-6-3-2"
    >Other command-line tools
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-6-3-2">
      <li class="nav-item">
    <a class="nav-link" href="/tools/build_runner">build_runner</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/webdev">webdev</a>
  </li>
  </ul>
  </li>
</ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-4"
      href="#sidenav-6-4" role="button"
      aria-expanded="false" aria-controls="sidenav-6-4"
    >Managing source code
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-4">
      <li class="nav-item">
    <a class="nav-link" href="/guides/language/formatting">Formatting code</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/private-files">What not to commit</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-5"
      href="#sidenav-6-5" role="button"
      aria-expanded="false" aria-controls="sidenav-6-5"
    >Static analysis
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-5">
      <li class="nav-item">
    <a class="nav-link" href="/guides/language/analysis-options">Customizing static analysis</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/sound-problems">Fixing common type problems</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/diagnostic-messages">Diagnostic messages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/linter-rules">Linter rules</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-6"
      href="#sidenav-6-6" role="button"
      aria-expanded="false" aria-controls="sidenav-6-6"
    >Testing & optimization
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-6">
      <li class="nav-item">
    <a class="nav-link" href="/guides/testing">Testing</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/web/debugging">Debugging web apps</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-7" role="button"
        aria-expanded="false" aria-controls="sidenav-7"
      >Resources</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7">
        <li class="nav-item">
    <a class="nav-link" href="/resources">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/resources/books">Books</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/resources/dartpad-best-practices">DartPad in tutorials: Best practices</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/code-of-conduct">Code of conduct</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/faq">FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-7-6"
      href="#sidenav-7-6" role="button"
      aria-expanded="false" aria-controls="sidenav-7-6"
    >History
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7-6">
      <li class="nav-item">
    <a class="nav-link" href="/dart-2">Migrating to Dart&nbsp;2</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/resources/videos">Videos</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link " data-toggle="collapse" href="#sidenav-8" role="button"
        aria-expanded="true" aria-controls="sidenav-8"
      >Related sites</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-8">
        <li class="nav-item">
    <a class="nav-link" href="https://api.dart.dev" target="_blank" rel="noopener">API reference<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://medium.com/dartlang" target="_blank" rel="noopener">Blog<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://dartpad.dev" target="_blank" rel="noopener">DartPad (online editor)<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://flutter.dev" target="_blank" rel="noopener">Flutter<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev" target="_blank" rel="noopener">Package site<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li>
</ul>
    </li></ul>

  </div>
</div>

    <main id="page-content">
      







<div id="site-toc--side" class="site-toc ">
  <header class="site-toc__title">
    Contents
    <button type="button" class="btn site-toc--button__page-top" aria-label="Page top"></button>
    
  </header>
  <ul id="toc" class="section-nav">
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#names">Names</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#do-use-terms-consistently">DO use terms consistently.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#avoid-abbreviations">AVOID abbreviations.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#prefer-putting-the-most-descriptive-noun-last">PREFER putting the most descriptive noun last.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#consider-making-the-code-read-like-a-sentence">CONSIDER making the code read like a sentence.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#prefer-a-noun-phrase-for-a-non-boolean-property-or-variable">PREFER a noun phrase for a non-boolean property or variable.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#prefer-a-non-imperative-verb-phrase-for-a-boolean-property-or-variable">PREFER a non-imperative verb phrase for a boolean property or variable.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#consider-omitting-the-verb-for-a-named-boolean-parameter">CONSIDER omitting the verb for a named boolean parameter.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#prefer-the-positive-name-for-a-boolean-property-or-variable">PREFER the “positive” name for a boolean property or variable.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#prefer-an-imperative-verb-phrase-for-a-function-or-method-whose-main-purpose-is-a-side-effect">PREFER an imperative verb phrase for a function or method whose main purpose is a side effect.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#prefer-a-noun-phrase-or-non-imperative-verb-phrase-for-a-function-or-method-if-returning-a-value-is-its-primary-purpose">PREFER a noun phrase or non-imperative verb phrase for a function or method if returning a value is its primary purpose.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#consider-an-imperative-verb-phrase-for-a-function-or-method-if-you-want-to-draw-attention-to-the-work-it-performs">CONSIDER an imperative verb phrase for a function or method if you want to draw attention to the work it performs.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#avoid-starting-a-method-name-with-get">AVOID starting a method name with get.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#prefer-naming-a-method-to___-if-it-copies-the-objects-state-to-a-new-object">PREFER naming a method to___() if it copies the object’s state to a new object.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#prefer-naming-a-method-as___-if-it-returns-a-different-representation-backed-by-the-original-object">PREFER naming a method as___() if it returns a different representation backed by the original object.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#avoid-describing-the-parameters-in-the-functions-or-methods-name">AVOID describing the parameters in the function’s or method’s name.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#do-follow-existing-mnemonic-conventions-when-naming-type-parameters">DO follow existing mnemonic conventions when naming type parameters.</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#libraries">Libraries</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#prefer-making-declarations-private">PREFER making declarations private.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#consider-declaring-multiple-classes-in-the-same-library">CONSIDER declaring multiple classes in the same library.</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#classes-and-mixins">Classes and mixins</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#avoid-defining-a-one-member-abstract-class-when-a-simple-function-will-do">AVOID defining a one-member abstract class when a simple function will do.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#avoid-defining-a-class-that-contains-only-static-members">AVOID defining a class that contains only static members.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#avoid-extending-a-class-that-isnt-intended-to-be-subclassed">AVOID extending a class that isn’t intended to be subclassed.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#do-document-if-your-class-supports-being-extended">DO document if your class supports being extended.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#avoid-implementing-a-class-that-isnt-intended-to-be-an-interface">AVOID implementing a class that isn’t intended to be an interface.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#do-document-if-your-class-supports-being-used-as-an-interface">DO document if your class supports being used as an interface.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#do-use-mixin-to-define-a-mixin-type">DO use mixin to define a mixin type.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#avoid-mixing-in-a-class-that-isnt-intended-to-be-a-mixin">AVOID mixing in a type that isn’t intended to be a mixin.</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#constructors">Constructors</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#consider-making-your-constructor-const-if-the-class-supports-it">CONSIDER making your constructor const if the class supports it.</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#members">Members</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#prefer-making-fields-and-top-level-variables-final">PREFER making fields and top-level variables final.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#do-use-getters-for-operations-that-conceptually-access-properties">DO use getters for operations that conceptually access properties.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#do-use-setters-for-operations-that-conceptually-change-properties">DO use setters for operations that conceptually change properties.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#dont-define-a-setter-without-a-corresponding-getter">DON’T define a setter without a corresponding getter.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#avoid-using-runtime-type-tests-to-fake-overloading">AVOID using runtime type tests to fake overloading.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#avoid-public-late-final-fields-without-initializers">AVOID public late final fields without initializers.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#avoid-returning-nullable-future-stream-and-collection-types">AVOID returning nullable Future, Stream, and collection types.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#avoid-returning-this-from-methods-just-to-enable-a-fluent-interface">AVOID returning this from methods just to enable a fluent interface.</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#types">Types</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#do-type-annotate-variables-without-initializers">DO type annotate variables without initializers.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#do-type-annotate-fields-and-top-level-variables-if-the-type-isnt-obvious">DO type annotate fields and top-level variables if the type isn’t obvious.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#dont-redundantly-type-annotate-initialized-local-variables">DON’T redundantly type annotate initialized local variables.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#do-annotate-return-types-on-function-declarations">DO annotate return types on function declarations.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#do-annotate-parameter-types-on-function-declarations">DO annotate parameter types on function declarations.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#dont-annotate-inferred-parameter-types-on-function-expressions">DON’T annotate inferred parameter types on function expressions.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#dont-type-annotate-initializing-formals">DON’T type annotate initializing formals.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#do-write-type-arguments-on-generic-invocations-that-arent-inferred">DO write type arguments on generic invocations that aren’t inferred.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#dont-write-type-arguments-on-generic-invocations-that-are-inferred">DON’T write type arguments on generic invocations that are inferred.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#avoid-writing-incomplete-generic-types">AVOID writing incomplete generic types.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#do-annotate-with-dynamic-instead-of-letting-inference-fail">DO annotate with dynamic instead of letting inference fail.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#prefer-signatures-in-function-type-annotations">PREFER signatures in function type annotations.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#dont-specify-a-return-type-for-a-setter">DON’T specify a return type for a setter.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#dont-use-the-legacy-typedef-syntax">DON’T use the legacy typedef syntax.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#prefer-inline-function-types-over-typedefs">PREFER inline function types over typedefs.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#prefer-using-function-type-syntax-for-parameters">PREFER using function type syntax for parameters.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#avoid-using-dynamic-unless-you-want-to-disable-static-checking">AVOID using dynamic unless you want to disable static checking.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#do-use-futurevoid-as-the-return-type-of-asynchronous-members-that-do-not-produce-values">DO use Future&lt;void&gt; as the return type of asynchronous members that do not produce values.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#avoid-using-futureort-as-a-return-type">AVOID using FutureOr&lt;T&gt; as a return type.</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#parameters">Parameters</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#avoid-positional-boolean-parameters">AVOID positional boolean parameters.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#avoid-optional-positional-parameters-if-the-user-may-want-to-omit-earlier-parameters">AVOID optional positional parameters if the user may want to omit earlier parameters.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#avoid-mandatory-parameters-that-accept-a-special-no-argument-value">AVOID mandatory parameters that accept a special “no argument” value.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#do-use-inclusive-start-and-exclusive-end-parameters-to-accept-a-range">DO use inclusive start and exclusive end parameters to accept a range.</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#equality">Equality</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#do-override-hashcode-if-you-override-">DO override hashCode if you override ==.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#do-make-your--operator-obey-the-mathematical-rules-of-equality">DO make your == operator obey the mathematical rules of equality.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#avoid-defining-custom-equality-for-mutable-classes">AVOID defining custom equality for mutable classes.</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#dont-make-the-parameter-to--nullable">DON’T make the parameter to == nullable.</a></li>
</ul>
</li>
</ul>
</div>


      <article>
        <div class="content">
          
<nav id="subnav">
  <ul>
    <li class="previous">
      
        <a href="/guides/language/effective-dart/usage">&lang;&nbsp;&nbsp;Usage</a>
      
    </li>
    <li class="next">
      
    </li>
  </ul>
</nav>


          <div>
            <div id="page-github-links" class="btn-group" aria-label="Page GitHub links" role="group">
  <a href="https://github.com/dart-lang/site-www/tree/main/src/_guides/language/effective-dart/design.md" class="btn no-automatic-external" title="View page source" target="_blank" rel="noopener">
    <i class="fas fa-file-alt fa-sm"></i>
  </a>
  <a href="https://github.com/dart-lang/site-www/issues/new?template=1_page_issue.yml&title=[PAGE ISSUE]: 'Effective Dart: Design'&page-url=https://dart.esdocu.com/guides/language/effective-dart/design&page-source=https://github.com/dart-lang/site-www/tree/main/src/_guides/language/effective-dart/design.md" class="btn no-automatic-external" title="Report an issue with this page"
    target="_blank" rel="noopener">
    <i class="fas fa-bug fa-sm"></i>
  </a>
</div>

            <h1>Effective Dart: Design</h1>
          </div>
          







<div id="site-toc--inline" class="site-toc toc-collapsible toc-collapsed">
  <header class="site-toc__title">
    Contents
    <button type="button" class="btn site-toc--button__page-top" aria-label="Page top"></button>
    
      <span class="site-toc--inline__toggle toc-toggle-down"><i class="material-icons">keyboard_arrow_down</i></span>
      <span class="site-toc--inline__toggle toc-toggle-up"><i class="material-icons">keyboard_arrow_up</i></span>
    
  </header>
  <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#names">Names</a>
<ul>
<li class="toc-entry toc-h3"><a href="#do-use-terms-consistently">DO use terms consistently.</a></li>
<li class="toc-entry toc-h3"><a href="#avoid-abbreviations">AVOID abbreviations.</a></li>
<li class="toc-entry toc-h3"><a href="#prefer-putting-the-most-descriptive-noun-last">PREFER putting the most descriptive noun last.</a></li>
<li class="toc-entry toc-h3"><a href="#consider-making-the-code-read-like-a-sentence">CONSIDER making the code read like a sentence.</a></li>
<li class="toc-entry toc-h3"><a href="#prefer-a-noun-phrase-for-a-non-boolean-property-or-variable">PREFER a noun phrase for a non-boolean property or variable.</a></li>
<li class="toc-entry toc-h3"><a href="#prefer-a-non-imperative-verb-phrase-for-a-boolean-property-or-variable">PREFER a non-imperative verb phrase for a boolean property or variable.</a></li>
<li class="toc-entry toc-h3"><a href="#consider-omitting-the-verb-for-a-named-boolean-parameter">CONSIDER omitting the verb for a named boolean parameter.</a></li>
<li class="toc-entry toc-h3"><a href="#prefer-the-positive-name-for-a-boolean-property-or-variable">PREFER the “positive” name for a boolean property or variable.</a></li>
<li class="toc-entry toc-h3"><a href="#prefer-an-imperative-verb-phrase-for-a-function-or-method-whose-main-purpose-is-a-side-effect">PREFER an imperative verb phrase for a function or method whose main purpose is a side effect.</a></li>
<li class="toc-entry toc-h3"><a href="#prefer-a-noun-phrase-or-non-imperative-verb-phrase-for-a-function-or-method-if-returning-a-value-is-its-primary-purpose">PREFER a noun phrase or non-imperative verb phrase for a function or method if returning a value is its primary purpose.</a></li>
<li class="toc-entry toc-h3"><a href="#consider-an-imperative-verb-phrase-for-a-function-or-method-if-you-want-to-draw-attention-to-the-work-it-performs">CONSIDER an imperative verb phrase for a function or method if you want to draw attention to the work it performs.</a></li>
<li class="toc-entry toc-h3"><a href="#avoid-starting-a-method-name-with-get">AVOID starting a method name with get.</a></li>
<li class="toc-entry toc-h3"><a href="#prefer-naming-a-method-to___-if-it-copies-the-objects-state-to-a-new-object">PREFER naming a method to___() if it copies the object’s state to a new object.</a></li>
<li class="toc-entry toc-h3"><a href="#prefer-naming-a-method-as___-if-it-returns-a-different-representation-backed-by-the-original-object">PREFER naming a method as___() if it returns a different representation backed by the original object.</a></li>
<li class="toc-entry toc-h3"><a href="#avoid-describing-the-parameters-in-the-functions-or-methods-name">AVOID describing the parameters in the function’s or method’s name.</a></li>
<li class="toc-entry toc-h3"><a href="#do-follow-existing-mnemonic-conventions-when-naming-type-parameters">DO follow existing mnemonic conventions when naming type parameters.</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#libraries">Libraries</a>
<ul>
<li class="toc-entry toc-h3"><a href="#prefer-making-declarations-private">PREFER making declarations private.</a></li>
<li class="toc-entry toc-h3"><a href="#consider-declaring-multiple-classes-in-the-same-library">CONSIDER declaring multiple classes in the same library.</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#classes-and-mixins">Classes and mixins</a>
<ul>
<li class="toc-entry toc-h3"><a href="#avoid-defining-a-one-member-abstract-class-when-a-simple-function-will-do">AVOID defining a one-member abstract class when a simple function will do.</a></li>
<li class="toc-entry toc-h3"><a href="#avoid-defining-a-class-that-contains-only-static-members">AVOID defining a class that contains only static members.</a></li>
<li class="toc-entry toc-h3"><a href="#avoid-extending-a-class-that-isnt-intended-to-be-subclassed">AVOID extending a class that isn’t intended to be subclassed.</a></li>
<li class="toc-entry toc-h3"><a href="#do-document-if-your-class-supports-being-extended">DO document if your class supports being extended.</a></li>
<li class="toc-entry toc-h3"><a href="#avoid-implementing-a-class-that-isnt-intended-to-be-an-interface">AVOID implementing a class that isn’t intended to be an interface.</a></li>
<li class="toc-entry toc-h3"><a href="#do-document-if-your-class-supports-being-used-as-an-interface">DO document if your class supports being used as an interface.</a></li>
<li class="toc-entry toc-h3"><a href="#do-use-mixin-to-define-a-mixin-type">DO use mixin to define a mixin type.</a></li>
<li class="toc-entry toc-h3"><a href="#avoid-mixing-in-a-class-that-isnt-intended-to-be-a-mixin">AVOID mixing in a type that isn’t intended to be a mixin.</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#constructors">Constructors</a>
<ul>
<li class="toc-entry toc-h3"><a href="#consider-making-your-constructor-const-if-the-class-supports-it">CONSIDER making your constructor const if the class supports it.</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#members">Members</a>
<ul>
<li class="toc-entry toc-h3"><a href="#prefer-making-fields-and-top-level-variables-final">PREFER making fields and top-level variables final.</a></li>
<li class="toc-entry toc-h3"><a href="#do-use-getters-for-operations-that-conceptually-access-properties">DO use getters for operations that conceptually access properties.</a></li>
<li class="toc-entry toc-h3"><a href="#do-use-setters-for-operations-that-conceptually-change-properties">DO use setters for operations that conceptually change properties.</a></li>
<li class="toc-entry toc-h3"><a href="#dont-define-a-setter-without-a-corresponding-getter">DON’T define a setter without a corresponding getter.</a></li>
<li class="toc-entry toc-h3"><a href="#avoid-using-runtime-type-tests-to-fake-overloading">AVOID using runtime type tests to fake overloading.</a></li>
<li class="toc-entry toc-h3"><a href="#avoid-public-late-final-fields-without-initializers">AVOID public late final fields without initializers.</a></li>
<li class="toc-entry toc-h3"><a href="#avoid-returning-nullable-future-stream-and-collection-types">AVOID returning nullable Future, Stream, and collection types.</a></li>
<li class="toc-entry toc-h3"><a href="#avoid-returning-this-from-methods-just-to-enable-a-fluent-interface">AVOID returning this from methods just to enable a fluent interface.</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#types">Types</a>
<ul>
<li class="toc-entry toc-h3"><a href="#do-type-annotate-variables-without-initializers">DO type annotate variables without initializers.</a></li>
<li class="toc-entry toc-h3"><a href="#do-type-annotate-fields-and-top-level-variables-if-the-type-isnt-obvious">DO type annotate fields and top-level variables if the type isn’t obvious.</a></li>
<li class="toc-entry toc-h3"><a href="#dont-redundantly-type-annotate-initialized-local-variables">DON’T redundantly type annotate initialized local variables.</a></li>
<li class="toc-entry toc-h3"><a href="#do-annotate-return-types-on-function-declarations">DO annotate return types on function declarations.</a></li>
<li class="toc-entry toc-h3"><a href="#do-annotate-parameter-types-on-function-declarations">DO annotate parameter types on function declarations.</a></li>
<li class="toc-entry toc-h3"><a href="#dont-annotate-inferred-parameter-types-on-function-expressions">DON’T annotate inferred parameter types on function expressions.</a></li>
<li class="toc-entry toc-h3"><a href="#dont-type-annotate-initializing-formals">DON’T type annotate initializing formals.</a></li>
<li class="toc-entry toc-h3"><a href="#do-write-type-arguments-on-generic-invocations-that-arent-inferred">DO write type arguments on generic invocations that aren’t inferred.</a></li>
<li class="toc-entry toc-h3"><a href="#dont-write-type-arguments-on-generic-invocations-that-are-inferred">DON’T write type arguments on generic invocations that are inferred.</a></li>
<li class="toc-entry toc-h3"><a href="#avoid-writing-incomplete-generic-types">AVOID writing incomplete generic types.</a></li>
<li class="toc-entry toc-h3"><a href="#do-annotate-with-dynamic-instead-of-letting-inference-fail">DO annotate with dynamic instead of letting inference fail.</a></li>
<li class="toc-entry toc-h3"><a href="#prefer-signatures-in-function-type-annotations">PREFER signatures in function type annotations.</a></li>
<li class="toc-entry toc-h3"><a href="#dont-specify-a-return-type-for-a-setter">DON’T specify a return type for a setter.</a></li>
<li class="toc-entry toc-h3"><a href="#dont-use-the-legacy-typedef-syntax">DON’T use the legacy typedef syntax.</a></li>
<li class="toc-entry toc-h3"><a href="#prefer-inline-function-types-over-typedefs">PREFER inline function types over typedefs.</a></li>
<li class="toc-entry toc-h3"><a href="#prefer-using-function-type-syntax-for-parameters">PREFER using function type syntax for parameters.</a></li>
<li class="toc-entry toc-h3"><a href="#avoid-using-dynamic-unless-you-want-to-disable-static-checking">AVOID using dynamic unless you want to disable static checking.</a></li>
<li class="toc-entry toc-h3"><a href="#do-use-futurevoid-as-the-return-type-of-asynchronous-members-that-do-not-produce-values">DO use Future&lt;void&gt; as the return type of asynchronous members that do not produce values.</a></li>
<li class="toc-entry toc-h3"><a href="#avoid-using-futureort-as-a-return-type">AVOID using FutureOr&lt;T&gt; as a return type.</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#parameters">Parameters</a>
<ul>
<li class="toc-entry toc-h3"><a href="#avoid-positional-boolean-parameters">AVOID positional boolean parameters.</a></li>
<li class="toc-entry toc-h3"><a href="#avoid-optional-positional-parameters-if-the-user-may-want-to-omit-earlier-parameters">AVOID optional positional parameters if the user may want to omit earlier parameters.</a></li>
<li class="toc-entry toc-h3"><a href="#avoid-mandatory-parameters-that-accept-a-special-no-argument-value">AVOID mandatory parameters that accept a special “no argument” value.</a></li>
<li class="toc-entry toc-h3"><a href="#do-use-inclusive-start-and-exclusive-end-parameters-to-accept-a-range">DO use inclusive start and exclusive end parameters to accept a range.</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#equality">Equality</a>
<ul>
<li class="toc-entry toc-h3"><a href="#do-override-hashcode-if-you-override-">DO override hashCode if you override ==.</a></li>
<li class="toc-entry toc-h3"><a href="#do-make-your--operator-obey-the-mathematical-rules-of-equality">DO make your == operator obey the mathematical rules of equality.</a></li>
<li class="toc-entry toc-h3"><a href="#avoid-defining-custom-equality-for-mutable-classes">AVOID defining custom equality for mutable classes.</a></li>
<li class="toc-entry toc-h3"><a href="#dont-make-the-parameter-to--nullable">DON’T make the parameter to == nullable.</a></li>
</ul>
</li>
</ul>
</div>


          
<p>Here are some guidelines for writing consistent, usable APIs for libraries.</p>

<h2 id="names">
<a class="anchor" href="#names" aria-hidden="true"><span class="octicon octicon-link"></span></a>Names</h2>

<p>Naming is an important part of writing readable, maintainable code.
The following best practices can help you achieve that goal.</p>

<h3 id="do-use-terms-consistently">
<a class="anchor" href="#do-use-terms-consistently" aria-hidden="true"><span class="octicon octicon-link"></span></a>DO use terms consistently.</h3>

<p>Use the same name for the same thing, throughout your code. If a precedent
already exists outside your API that users are likely to know, follow that
precedent.</p>

<pre class="prettyprint lang-dart good"><code>pageCount         // A field.
updatePageCount() // Consistent with pageCount.
toSomething()     // Consistent with Iterable's toList().
asSomething()     // Consistent with List's asMap().
Point             // A familiar concept.</code></pre>

<pre class="prettyprint lang-dart bad"><code>renumberPages()      // Confusingly different from pageCount.
convertToSomething() // Inconsistent with toX() precedent.
wrappedAsSomething() // Inconsistent with asX() precedent.
Cartesian            // Unfamiliar to most users.</code></pre>

<p>The goal is to take advantage of what the user already knows. This includes
their knowledge of the problem domain itself, the conventions of the core
libraries, and other parts of your own API. By building on top of those, you
reduce the amount of new knowledge they have to acquire before they can be
productive.</p>

<h3 id="avoid-abbreviations">
<a class="anchor" href="#avoid-abbreviations" aria-hidden="true"><span class="octicon octicon-link"></span></a>AVOID abbreviations.</h3>

<p>Unless the abbreviation is more common than the unabbreviated term, don’t
abbreviate. If you do abbreviate, <a href="/guides/language/effective-dart/style#identifiers">capitalize it correctly</a>.</p>

<pre class="prettyprint lang-dart good"><code>pageCount
buildRectangles
IOStream
HttpRequest</code></pre>

<pre class="prettyprint lang-dart bad"><code>numPages    // "Num" is an abbreviation of "number (of)".
buildRects
InputOutputStream
HypertextTransferProtocolRequest</code></pre>

<h3 id="prefer-putting-the-most-descriptive-noun-last">
<a class="anchor" href="#prefer-putting-the-most-descriptive-noun-last" aria-hidden="true"><span class="octicon octicon-link"></span></a>PREFER putting the most descriptive noun last.</h3>

<p>The last word should be the most descriptive of what the thing is. You can
prefix it with other words, such as adjectives, to further describe the thing.</p>

<pre class="prettyprint lang-dart good"><code>pageCount             // A count (of pages).
ConversionSink        // A sink for doing conversions.
ChunkedConversionSink // A ConversionSink that's chunked.
CssFontFaceRule       // A rule for font faces in CSS.</code></pre>

<pre class="prettyprint lang-dart bad"><code>numPages                  // Not a collection of pages.
CanvasRenderingContext2D  // Not a "2D".
RuleFontFaceCss           // Not a CSS.</code></pre>

<h3 id="consider-making-the-code-read-like-a-sentence">
<a class="anchor" href="#consider-making-the-code-read-like-a-sentence" aria-hidden="true"><span class="octicon octicon-link"></span></a>CONSIDER making the code read like a sentence.</h3>

<p>When in doubt about naming, write some code that uses your API, and try to read
it like a sentence.</p>

<pre class="prettyprint lang-dart good"><code>// "If errors is empty..."
if (errors.isEmpty) ...

// "Hey, subscription, cancel!"
subscription.cancel();

// "Get the monsters where the monster has claws."
monsters.where((monster) =&gt; monster.hasClaws);</code></pre>

<pre class="prettyprint lang-dart bad"><code>// Telling errors to empty itself, or asking if it is?
if (errors.empty) ...

// Toggle what? To what?
subscription.toggle();

// Filter the monsters with claws *out* or include *only* those?
monsters.filter((monster) =&gt; monster.hasClaws);</code></pre>

<p>It’s helpful to try out your API and see how it “reads” when used in code, but
you can go too far. It’s not helpful to add articles and other parts of speech
to force your names to <em>literally</em> read like a grammatically correct sentence.</p>

<pre class="prettyprint lang-dart bad"><code>if (theCollectionOfErrors.isEmpty) ...

monsters.producesANewSequenceWhereEach((monster) =&gt; monster.hasClaws);</code></pre>

<h3 id="prefer-a-noun-phrase-for-a-non-boolean-property-or-variable">
<a class="anchor" href="#prefer-a-noun-phrase-for-a-non-boolean-property-or-variable" aria-hidden="true"><span class="octicon octicon-link"></span></a>PREFER a noun phrase for a non-boolean property or variable.</h3>

<p>The reader’s focus is on <em>what</em> the property is. If the user cares more about
<em>how</em> a property is determined, then it should probably be a method with a
verb phrase name.</p>

<pre class="prettyprint lang-dart good"><code>list.length
context.lineWidth
quest.rampagingSwampBeast</code></pre>

<pre class="prettyprint lang-dart bad"><code>list.deleteItems</code></pre>

<h3 id="prefer-a-non-imperative-verb-phrase-for-a-boolean-property-or-variable">
<a class="anchor" href="#prefer-a-non-imperative-verb-phrase-for-a-boolean-property-or-variable" aria-hidden="true"><span class="octicon octicon-link"></span></a>PREFER a non-imperative verb phrase for a boolean property or variable.</h3>

<p>Boolean names are often used as conditions in control flow, so you want a name
that reads well there. Compare:</p>

<pre class="prettyprint lang-dart"><code>if (window.closeable) ...  // Adjective.
if (window.canClose) ...   // Verb.</code></pre>

<p>Good names tend to start with one of a few kinds of verbs:</p>

<ul>
  <li>
    <p>a form of “to be”: <code class="language-plaintext highlighter-rouge">isEnabled</code>, <code class="language-plaintext highlighter-rouge">wasShown</code>, <code class="language-plaintext highlighter-rouge">willFire</code>. These are, by far,
the most common.</p>
  </li>
  <li>
    <p>an <a href="https://en.wikipedia.org/wiki/Auxiliary_verb">auxiliary verb</a>: <code class="language-plaintext highlighter-rouge">hasElements</code>, <code class="language-plaintext highlighter-rouge">canClose</code>,
<code class="language-plaintext highlighter-rouge">shouldConsume</code>, <code class="language-plaintext highlighter-rouge">mustSave</code>.</p>
  </li>
  <li>
    <p>an active verb: <code class="language-plaintext highlighter-rouge">ignoresInput</code>, <code class="language-plaintext highlighter-rouge">wroteFile</code>. These are rare because they are
usually ambiguous. <code class="language-plaintext highlighter-rouge">loggedResult</code> is a bad name because it could mean
“whether or not a result was logged” or “the result that was logged”.
Likewise, <code class="language-plaintext highlighter-rouge">closingConnection</code> could be “whether the connection is closing”
or “the connection that is closing”. Active verbs are allowed when the name
can <em>only</em> be read as a predicate.</p>
  </li>
</ul>

<p>What separates all these verb phrases from method names is that they are not
<em>imperative</em>. A boolean name should never sound like a command to tell the
object to do something, because accessing a property doesn’t change the object.
(If the property <em>does</em> modify the object in a meaningful way, it should be a
method.)</p>

<pre class="prettyprint lang-dart good"><code>isEmpty
hasElements
canClose
closesWindow
canShowPopup
hasShownPopup</code></pre>

<pre class="prettyprint lang-dart bad"><code>empty         // Adjective or verb?
withElements  // Sounds like it might hold elements.
closeable     // Sounds like an interface.
              // "canClose" reads better as a sentence.
closingWindow // Returns a bool or a window?
showPopup     // Sounds like it shows the popup.</code></pre>

<h3 id="consider-omitting-the-verb-for-a-named-boolean-parameter">
<a class="anchor" href="#consider-omitting-the-verb-for-a-named-boolean-parameter" aria-hidden="true"><span class="octicon octicon-link"></span></a>CONSIDER omitting the verb for a named boolean <em>parameter</em>.</h3>

<p>This refines the previous rule. For named parameters that are boolean, the name
is often just as clear without the verb, and the code reads better at the call
site.</p>

<pre class="prettyprint lang-dart good"><code>Isolate.spawn(entryPoint, message, paused: false);
var copy = List.from(elements, growable: true);
var regExp = RegExp(pattern, caseSensitive: false);</code></pre>

<h3 id="prefer-the-positive-name-for-a-boolean-property-or-variable">
<a class="anchor" href="#prefer-the-positive-name-for-a-boolean-property-or-variable" aria-hidden="true"><span class="octicon octicon-link"></span></a>PREFER the “positive” name for a boolean property or variable.</h3>

<p>Most boolean names have conceptually “positive” and “negative” forms where the
former feels like the fundamental concept and the latter is its
negation—”open” and “closed”, “enabled” and “disabled”, etc. Often the
latter name literally has a prefix that negates the former: “visible” and
“<em>in</em>-visible”, “connected” and “<em>dis</em>-connected”, “zero” and “<em>non</em>-zero”.</p>

<p>When choosing which of the two cases that <code class="language-plaintext highlighter-rouge">true</code> represents—and thus
which case the property is named for—prefer the positive or more
fundamental one. Boolean members are often nested inside logical expressions,
including negation operators. If your property itself reads like a negation,
it’s harder for the reader to mentally perform the double negation and
understand what the code means.</p>

<pre class="prettyprint lang-dart good"><code>if (socket.isConnected &amp;&amp; database.hasData) {
  socket.write(database.read());
}</code></pre>

<pre class="prettyprint lang-dart bad"><code>if (!socket.isDisconnected &amp;&amp; !database.isEmpty) {
  socket.write(database.read());
}</code></pre>

<p>For some properties, there is no obvious positive form. Is a document that has
been flushed to disk “saved” or “<em>un</em>-changed”? Is a document that <em>hasn’t</em> been
flushed “<em>un</em>-saved” or “changed”? In ambiguous cases, lean towards the choice
that is less likely to be negated by users or has the shorter name.</p>

<p><strong>Exception:</strong> With some properties, the negative form is what users
overwhelmingly need to use. Choosing the positive case would force them to
negate the property with <code class="language-plaintext highlighter-rouge">!</code> everywhere. Instead, it may be better to use the
negative case for that property.</p>

<h3 id="prefer-an-imperative-verb-phrase-for-a-function-or-method-whose-main-purpose-is-a-side-effect">
<a class="anchor" href="#prefer-an-imperative-verb-phrase-for-a-function-or-method-whose-main-purpose-is-a-side-effect" aria-hidden="true"><span class="octicon octicon-link"></span></a>PREFER an imperative verb phrase for a function or method whose main purpose is a side effect.</h3>

<p>Callable members can return a result to the caller and perform other work or
side effects. In an imperative language like Dart, members are often called
mainly for their side effect: they may change an object’s internal state,
produce some output, or talk to the outside world.</p>

<p>Those kinds of members should be named using an imperative verb phrase that
clarifies the work the member performs.</p>

<pre class="prettyprint lang-dart good"><code>list.add('element');
queue.removeFirst();
window.refresh();</code></pre>

<p>This way, an invocation reads like a command to do that work.</p>

<h3 id="prefer-a-noun-phrase-or-non-imperative-verb-phrase-for-a-function-or-method-if-returning-a-value-is-its-primary-purpose">
<a class="anchor" href="#prefer-a-noun-phrase-or-non-imperative-verb-phrase-for-a-function-or-method-if-returning-a-value-is-its-primary-purpose" aria-hidden="true"><span class="octicon octicon-link"></span></a>PREFER a noun phrase or non-imperative verb phrase for a function or method if returning a value is its primary purpose.</h3>

<p>Other callable members have few side effects but return a useful result to the
caller. If the member needs no parameters to do that, it should generally be a
getter. But sometimes a logical “property” needs some parameters. For example,
<code class="language-plaintext highlighter-rouge">elementAt()</code> returns a piece of data from a collection, but it needs a
parameter to know <em>which</em> piece of data to return.</p>

<p>This means the member is <em>syntactically</em> a method, but <em>conceptually</em> it is a
property, and should be named as such using a phrase that describes <em>what</em> the
member returns.</p>

<pre class="prettyprint lang-dart good"><code>var element = list.elementAt(3);
var first = list.firstWhere(test);
var char = string.codeUnitAt(4);</code></pre>

<p>This guideline is deliberately softer than the previous one. Sometimes a method
has no side effects but is still simpler to name with a verb phrase like
<code class="language-plaintext highlighter-rouge">list.take()</code> or <code class="language-plaintext highlighter-rouge">string.split()</code>.</p>

<h3 id="consider-an-imperative-verb-phrase-for-a-function-or-method-if-you-want-to-draw-attention-to-the-work-it-performs">
<a class="anchor" href="#consider-an-imperative-verb-phrase-for-a-function-or-method-if-you-want-to-draw-attention-to-the-work-it-performs" aria-hidden="true"><span class="octicon octicon-link"></span></a>CONSIDER an imperative verb phrase for a function or method if you want to draw attention to the work it performs.</h3>

<p>When a member produces a result without any side effects, it should usually be a
getter or a method with a noun phrase name describing the result it returns.
However, sometimes the work required to produce that result is important. It may
be prone to runtime failures, or use heavyweight resources like networking or
file I/O. In cases like this, where you want the caller to think about the work
the member is doing, give the member a verb phrase name that describes that
work.</p>

<pre class="prettyprint lang-dart good"><code>var table = database.downloadData();
var packageVersions = packageGraph.solveConstraints();</code></pre>

<p>Note, though, that this guideline is softer than the previous two. The work an
operation performs is often an implementation detail that isn’t relevant to the
caller, and performance and robustness boundaries change over time. Most of the
time, name your members based on <em>what</em> they do for the caller, not <em>how</em> they
do it.</p>

<h3 id="avoid-starting-a-method-name-with-get">
<a class="anchor" href="#avoid-starting-a-method-name-with-get" aria-hidden="true"><span class="octicon octicon-link"></span></a>AVOID starting a method name with <code class="language-plaintext highlighter-rouge">get</code>.</h3>

<p>In most cases, the method should be a getter with <code class="language-plaintext highlighter-rouge">get</code> removed from the name.
For example, instead of a method named <code class="language-plaintext highlighter-rouge">getBreakfastOrder()</code>, define a getter
named <code class="language-plaintext highlighter-rouge">breakfastOrder</code>.</p>

<p>Even if the member does need to be a method because it takes arguments or
otherwise isn’t a good fit for a getter, you should still avoid <code class="language-plaintext highlighter-rouge">get</code>. Like the
previous guidelines state, either:</p>

<ul>
  <li>
    <p>Simply drop <code class="language-plaintext highlighter-rouge">get</code> and <a href="#prefer-a-noun-phrase-or-non-imperative-verb-phrase-for-a-function-or-method-if-returning-a-value-is-its-primary-purpose">use a noun phrase name</a> like <code class="language-plaintext highlighter-rouge">breakfastOrder()</code>
if the caller mostly cares about the value the method returns.</p>
  </li>
  <li>
    <p><a href="#consider-an-imperative-verb-phrase-for-a-function-or-method-if-you-want-to-draw-attention-to-the-work-it-performs">Use a verb phrase name</a> if the caller cares about the work being done,
but pick a verb that more precisely describes the work than <code class="language-plaintext highlighter-rouge">get</code>, like
<code class="language-plaintext highlighter-rouge">create</code>, <code class="language-plaintext highlighter-rouge">download</code>, <code class="language-plaintext highlighter-rouge">fetch</code>, <code class="language-plaintext highlighter-rouge">calculate</code>, <code class="language-plaintext highlighter-rouge">request</code>, <code class="language-plaintext highlighter-rouge">aggregate</code>, etc.</p>
  </li>
</ul>

<h3 id="prefer-naming-a-method-to___-if-it-copies-the-objects-state-to-a-new-object">
<a class="anchor" href="#prefer-naming-a-method-to___-if-it-copies-the-objects-state-to-a-new-object" aria-hidden="true"><span class="octicon octicon-link"></span></a>PREFER naming a method <code class="language-plaintext highlighter-rouge">to___()</code> if it copies the object’s state to a new object.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#use_to_and_as_if_applicable">use_to_and_as_if_applicable</a></p>

<p>A <em>conversion</em> method is one that returns a new object containing a copy of
almost all of the state of the receiver but usually in some different form or
representation. The core libraries have a convention that these methods are
named starting with <code class="language-plaintext highlighter-rouge">to</code> followed by the kind of result.</p>

<p>If you define a conversion method, it’s helpful to follow that convention.</p>

<pre class="prettyprint lang-dart good"><code>list.toSet();
stackTrace.toString();
dateTime.toLocal();</code></pre>

<h3 id="prefer-naming-a-method-as___-if-it-returns-a-different-representation-backed-by-the-original-object">
<a class="anchor" href="#prefer-naming-a-method-as___-if-it-returns-a-different-representation-backed-by-the-original-object" aria-hidden="true"><span class="octicon octicon-link"></span></a>PREFER naming a method <code class="language-plaintext highlighter-rouge">as___()</code> if it returns a different representation backed by the original object.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#use_to_and_as_if_applicable">use_to_and_as_if_applicable</a></p>

<p>Conversion methods are “snapshots”. The resulting object has its own copy of the
original object’s state. There are other conversion-like methods that return
<em>views</em>—they provide a new object, but that object refers back to the
original. Later changes to the original object are reflected in the view.</p>

<p>The core library convention for you to follow is <code class="language-plaintext highlighter-rouge">as___()</code>.</p>

<pre class="prettyprint lang-dart good"><code>var map = table.asMap();
var list = bytes.asFloat32List();
var future = subscription.asFuture();</code></pre>

<h3 id="avoid-describing-the-parameters-in-the-functions-or-methods-name">
<a class="anchor" href="#avoid-describing-the-parameters-in-the-functions-or-methods-name" aria-hidden="true"><span class="octicon octicon-link"></span></a>AVOID describing the parameters in the function’s or method’s name.</h3>

<p>The user will see the argument at the call site, so it usually doesn’t help
readability to also refer to it in the name itself.</p>

<pre class="prettyprint lang-dart good"><code>list.add(element);
map.remove(key);</code></pre>

<pre class="prettyprint lang-dart bad"><code>list.addElement(element)
map.removeKey(key)</code></pre>

<p>However, it can be useful to mention a parameter to disambiguate it from other
similarly-named methods that take different types:</p>

<pre class="prettyprint lang-dart good"><code>map.containsKey(key);
map.containsValue(value);</code></pre>

<h3 id="do-follow-existing-mnemonic-conventions-when-naming-type-parameters">
<a class="anchor" href="#do-follow-existing-mnemonic-conventions-when-naming-type-parameters" aria-hidden="true"><span class="octicon octicon-link"></span></a>DO follow existing mnemonic conventions when naming type parameters.</h3>

<p>Single letter names aren’t exactly illuminating, but almost all generic types
use them. Fortunately, they mostly use them in a consistent, mnemonic way.
The conventions are:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">E</code> for the <strong>element</strong> type in a collection:</p>

    <pre class="prettyprint lang-dart good"><code>class IterableBase&lt;E&gt; {}
class List&lt;E&gt; {}
class HashSet&lt;E&gt; {}
class RedBlackTree&lt;E&gt; {}</code></pre>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">K</code> and <code class="language-plaintext highlighter-rouge">V</code> for the <strong>key</strong> and <strong>value</strong> types in an associative
collection:</p>

    <pre class="prettyprint lang-dart good"><code>class Map&lt;K, V&gt; {}
class Multimap&lt;K, V&gt; {}
class MapEntry&lt;K, V&gt; {}</code></pre>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">R</code> for a type used as the <strong>return</strong> type of a function or a class’s
methods. This isn’t common, but appears in typedefs sometimes and in classes
that implement the visitor pattern:</p>

    <pre class="prettyprint lang-dart good"><code>abstract class ExpressionVisitor&lt;R&gt; {
  R visitBinary(BinaryExpression node);
  R visitLiteral(LiteralExpression node);
  R visitUnary(UnaryExpression node);
}</code></pre>
  </li>
  <li>
    <p>Otherwise, use <code class="language-plaintext highlighter-rouge">T</code>, <code class="language-plaintext highlighter-rouge">S</code>, and <code class="language-plaintext highlighter-rouge">U</code> for generics that have a single type
parameter and where the surrounding type makes its meaning obvious. There
are multiple letters here to allow nesting without shadowing a surrounding
name. For example:</p>

    <pre class="prettyprint lang-dart good"><code>class Future&lt;T&gt; {
  Future&lt;S&gt; then&lt;S&gt;(FutureOr&lt;S&gt; onValue(T value)) =&gt; ...
}</code></pre>

    <p>Here, the generic method <code class="language-plaintext highlighter-rouge">then&lt;S&gt;()</code> uses <code class="language-plaintext highlighter-rouge">S</code> to avoid shadowing the <code class="language-plaintext highlighter-rouge">T</code>
on <code class="language-plaintext highlighter-rouge">Future&lt;T&gt;</code>.</p>
  </li>
</ul>

<p>If none of the above cases are a good fit, then either another single-letter
mnemonic name or a descriptive name is fine:</p>

<pre class="prettyprint lang-dart good"><code>class Graph&lt;N, E&gt; {
  final List&lt;N&gt; nodes = [];
  final List&lt;E&gt; edges = [];
}

class Graph&lt;Node, Edge&gt; {
  final List&lt;Node&gt; nodes = [];
  final List&lt;Edge&gt; edges = [];
}</code></pre>

<p>In practice, the existing conventions cover most type parameters.</p>

<h2 id="libraries">
<a class="anchor" href="#libraries" aria-hidden="true"><span class="octicon octicon-link"></span></a>Libraries</h2>

<p>A leading underscore character ( <code class="language-plaintext highlighter-rouge">_</code> ) indicates that a member is private to its
library. This is not mere convention, but is built into the language itself.</p>

<h3 id="prefer-making-declarations-private">
<a class="anchor" href="#prefer-making-declarations-private" aria-hidden="true"><span class="octicon octicon-link"></span></a>PREFER making declarations private.</h3>

<p>A public declaration in a library—either top level or in a class—is
a signal that other libraries can and should access that member. It is also a
commitment on your library’s part to support that and behave properly when it
happens.</p>

<p>If that’s not what you intend, add the little <code class="language-plaintext highlighter-rouge">_</code> and be happy. Narrow public
interfaces are easier for you to maintain and easier for users to learn. As a
nice bonus, the analyzer will tell you about unused private declarations so you
can delete dead code. It can’t do that if the member is public because it
doesn’t know if any code outside of its view is using it.</p>

<h3 id="consider-declaring-multiple-classes-in-the-same-library">
<a class="anchor" href="#consider-declaring-multiple-classes-in-the-same-library" aria-hidden="true"><span class="octicon octicon-link"></span></a>CONSIDER declaring multiple classes in the same library.</h3>

<p>Some languages, such as Java, tie the organization of files to the organization of
classes—each file may only define a single top level class. Dart does not
have that limitation. Libraries are distinct entities separate from classes.
It’s perfectly fine for a single library to contain multiple classes, top level
variables, and functions if they all logically belong together.</p>

<p>Placing multiple classes together in one library can enable some useful
patterns. Since privacy in Dart works at the library level, not the class level,
this is a way to define “friend” classes like you might in C++. Every class
declared in the same library can access each other’s private members, but code
outside of that library cannot.</p>

<p>Of course, this guideline doesn’t mean you <em>should</em> put all of your classes into
a huge monolithic library, just that you are allowed to place more than one
class in a single library.</p>

<h2 id="classes-and-mixins">
<a class="anchor" href="#classes-and-mixins" aria-hidden="true"><span class="octicon octicon-link"></span></a>Classes and mixins</h2>

<p>Dart is a “pure” object-oriented language in that all objects are instances of
classes. But Dart does not require all code to be defined inside a
class—you can define top-level variables, constants, and functions like
you can in a procedural or functional language.</p>

<h3 id="avoid-defining-a-one-member-abstract-class-when-a-simple-function-will-do">
<a class="anchor" href="#avoid-defining-a-one-member-abstract-class-when-a-simple-function-will-do" aria-hidden="true"><span class="octicon octicon-link"></span></a>AVOID defining a one-member abstract class when a simple function will do.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#one_member_abstracts">one_member_abstracts</a></p>

<p>Unlike Java, Dart has first-class functions, closures, and a nice light syntax
for using them. If all you need is something like a callback, just use a
function. If you’re defining a class and it only has a single abstract member
with a meaningless name like <code class="language-plaintext highlighter-rouge">call</code> or <code class="language-plaintext highlighter-rouge">invoke</code>, there is a good chance you
just want a function.</p>

<pre class="prettyprint lang-dart good"><code>typedef Predicate&lt;E&gt; = bool Function(E element);</code></pre>

<pre class="prettyprint lang-dart bad"><code>abstract class Predicate&lt;E&gt; {
  bool test(E element);
}</code></pre>

<h3 id="avoid-defining-a-class-that-contains-only-static-members">
<a class="anchor" href="#avoid-defining-a-class-that-contains-only-static-members" aria-hidden="true"><span class="octicon octicon-link"></span></a>AVOID defining a class that contains only static members.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#avoid_classes_with_only_static_members">avoid_classes_with_only_static_members</a></p>

<p>In Java and C#, every definition <em>must</em> be inside a class, so it’s common to see
“classes” that exist only as a place to stuff static members. Other classes are
used as namespaces—a way to give a shared prefix to a bunch of members to
relate them to each other or avoid a name collision.</p>

<p>Dart has top-level functions, variables, and constants, so you don’t <em>need</em> a
class just to define something. If what you want is a namespace, a library is a
better fit. Libraries support import prefixes and show/hide combinators. Those
are powerful tools that let the consumer of your code handle name collisions in
the way that works best for <em>them</em>.</p>

<p>If a function or variable isn’t logically tied to a class, put it at the top
level. If you’re worried about name collisions, give it a more precise name or
move it to a separate library that can be imported with a prefix.</p>

<pre class="prettyprint lang-dart good"><code>DateTime mostRecent(List&lt;DateTime&gt; dates) {
  return dates.reduce((a, b) =&gt; a.isAfter(b) ? a : b);
}

const _favoriteMammal = 'weasel';</code></pre>

<pre class="prettyprint lang-dart bad"><code>class DateUtils {
  static DateTime mostRecent(List&lt;DateTime&gt; dates) {
    return dates.reduce((a, b) =&gt; a.isAfter(b) ? a : b);
  }
}

class _Favorites {
  static const mammal = 'weasel';
}</code></pre>

<p>In idiomatic Dart, classes define <em>kinds of objects</em>. A type that is never
instantiated is a code smell.</p>

<p>However, this isn’t a hard rule. With constants and enum-like types, it may be
natural to group them in a class.</p>

<pre class="prettyprint lang-dart good"><code>class Color {
  static const red = '#f00';
  static const green = '#0f0';
  static const blue = '#00f';
  static const black = '#000';
  static const white = '#fff';
}</code></pre>

<h3 id="avoid-extending-a-class-that-isnt-intended-to-be-subclassed">
<a class="anchor" href="#avoid-extending-a-class-that-isnt-intended-to-be-subclassed" aria-hidden="true"><span class="octicon octicon-link"></span></a>AVOID extending a class that isn’t intended to be subclassed.</h3>

<p>If a constructor is changed from a generative constructor to a factory
constructor, any subclass constructor calling that constructor will break.
Also, if a class changes which of its own methods it invokes on <code class="language-plaintext highlighter-rouge">this</code>, that
may break subclasses that override those methods and expect them to be called
at certain points.</p>

<p>Both of these mean that a class needs to be deliberate about whether or not it
wants to allow subclassing. This can be communicated in a doc comment, or by
giving the class an obvious name like <code class="language-plaintext highlighter-rouge">IterableBase</code>. If the author of the class
doesn’t do that, it’s best to assume you should <em>not</em> extend the class.
Otherwise, later changes to it may break your code.</p>

<h3 id="do-document-if-your-class-supports-being-extended">
<a class="anchor" href="#do-document-if-your-class-supports-being-extended" aria-hidden="true"><span class="octicon octicon-link"></span></a>DO document if your class supports being extended.</h3>

<p>This is the corollary to the above rule. If you want to allow subclasses of your
class, state that. Suffix the class name with <code class="language-plaintext highlighter-rouge">Base</code>, or mention it in the
class’s doc comment.</p>

<h3 id="avoid-implementing-a-class-that-isnt-intended-to-be-an-interface">
<a class="anchor" href="#avoid-implementing-a-class-that-isnt-intended-to-be-an-interface" aria-hidden="true"><span class="octicon octicon-link"></span></a>AVOID implementing a class that isn’t intended to be an interface.</h3>

<p>Implicit interfaces are a powerful tool in Dart to avoid having to repeat the
contract of a class when it can be trivially inferred from the signatures of an
implementation of that contract.</p>

<p>But implementing a class’s interface is a very tight coupling to that class. It
means virtually <em>any</em> change to the class whose interface you are implementing
will break your implementation. For example, adding a new member to a class is
usually a safe, non-breaking change. But if you are implementing that class’s
interface, now your class has a static error because it lacks an implementation
of that new method.</p>

<p>Library maintainers need the ability to evolve existing classes without breaking
users. If you treat every class like it exposes an interface that users are free
to implement, then changing those classes becomes very difficult. That
difficulty in turn means the libraries you rely on are slower to grow and adapt
to new needs.</p>

<p>To give the authors of the classes you use more leeway, avoid implementing
implicit interfaces except for classes that are clearly intended to be
implemented. Otherwise, you may introduce a coupling that the author doesn’t
intend, and they may break your code without realizing it.</p>

<h3 id="do-document-if-your-class-supports-being-used-as-an-interface">
<a class="anchor" href="#do-document-if-your-class-supports-being-used-as-an-interface" aria-hidden="true"><span class="octicon octicon-link"></span></a>DO document if your class supports being used as an interface.</h3>

<p>If your class can be used as an interface, mention that in the class’s doc
comment.</p>

<h3 id="do-use-mixin-to-define-a-mixin-type">
<a class="anchor" href="#do-use-mixin-to-define-a-mixin-type" aria-hidden="true"><span class="octicon octicon-link"></span></a>DO use <code class="language-plaintext highlighter-rouge">mixin</code> to define a mixin type.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#prefer_mixin">prefer_mixin</a></p>

<p>Dart originally didn’t have a separate syntax for declaring a class intended to
be mixed in to other classes. Instead, any class that met certain restrictions
(no non-default constructor, no superclass, etc.) could be used as a mixin. This
was confusing because the author of the class might not have intended it to be
mixed in.</p>

<p>Dart 2.1.0 added a <code class="language-plaintext highlighter-rouge">mixin</code> keyword for explicitly declaring a mixin. Types
created using that can <em>only</em> be used as mixins, and the language also ensures
that your mixin stays within the restrictions. When defining a new type that you
intend to be used as a mixin, use this syntax.</p>

<pre class="prettyprint lang-dart good"><code>mixin ClickableMixin implements Control {
  bool _isDown = false;

  void click();

  void mouseDown() {
    _isDown = true;
  }

  void mouseUp() {
    if (_isDown) click();
    _isDown = false;
  }
}</code></pre>

<p>You might still encounter older code using <code class="language-plaintext highlighter-rouge">class</code> to define mixins, but the new
syntax is preferred.</p>

<h3 id="avoid-mixing-in-a-class-that-isnt-intended-to-be-a-mixin">
<a class="anchor" href="#avoid-mixing-in-a-class-that-isnt-intended-to-be-a-mixin" aria-hidden="true"><span class="octicon octicon-link"></span></a>AVOID mixing in a type that isn’t intended to be a mixin.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#prefer_mixin">prefer_mixin</a></p>

<p>For compatibility, Dart still allows you to mix in classes that aren’t defined
using <code class="language-plaintext highlighter-rouge">mixin</code>. However, that’s risky. If the author of the class doesn’t intend
the class to be used as a mixin, they might change the class in a way that
breaks the mixin restrictions. For example, if they add a constructor, your
class will break.</p>

<p>If the class doesn’t have a doc comment or an obvious name like <code class="language-plaintext highlighter-rouge">IterableMixin</code>,
assume you cannot mix in the class if it isn’t declared using <code class="language-plaintext highlighter-rouge">mixin</code>.</p>

<h2 id="constructors">
<a class="anchor" href="#constructors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Constructors</h2>

<p>Dart constructors are created by declaring a function with the same name as the
class and, optionally, an additional identifier. The latter are called <em>named
constructors</em>.</p>

<h3 id="consider-making-your-constructor-const-if-the-class-supports-it">
<a class="anchor" href="#consider-making-your-constructor-const-if-the-class-supports-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>CONSIDER making your constructor <code class="language-plaintext highlighter-rouge">const</code> if the class supports it.</h3>

<p>If you have a class where all the fields are final, and the constructor does
nothing but initialize them, you can make that constructor <code class="language-plaintext highlighter-rouge">const</code>. That lets
users create instances of your class in places where constants are
required—inside other larger constants, switch cases, default parameter
values, etc.</p>

<p>If you don’t explicitly make it <code class="language-plaintext highlighter-rouge">const</code>, they aren’t able to do that.</p>

<p>Note, however, that a <code class="language-plaintext highlighter-rouge">const</code> constructor is a commitment in your public API. If
you later change the constructor to non-<code class="language-plaintext highlighter-rouge">const</code>, it will break users that are
calling it in constant expressions. If you don’t want to commit to that, don’t
make it <code class="language-plaintext highlighter-rouge">const</code>. In practice, <code class="language-plaintext highlighter-rouge">const</code> constructors are most useful for simple,
immutable value-like types.</p>

<h2 id="members">
<a class="anchor" href="#members" aria-hidden="true"><span class="octicon octicon-link"></span></a>Members</h2>

<p>A member belongs to an object and can be either methods or instance variables.</p>

<h3 id="prefer-making-fields-and-top-level-variables-final">
<a class="anchor" href="#prefer-making-fields-and-top-level-variables-final" aria-hidden="true"><span class="octicon octicon-link"></span></a>PREFER making fields and top-level variables <code class="language-plaintext highlighter-rouge">final</code>.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#prefer_final_fields">prefer_final_fields</a></p>

<p>State that is not <em>mutable</em>—that does not change over time—is
easier for programmers to reason about. Classes and libraries that minimize the
amount of mutable state they work with tend to be easier to maintain.
Of course, it is often useful to have mutable data. But, if you don’t need it,
your default should be to make fields and top-level variables <code class="language-plaintext highlighter-rouge">final</code> when you
can.</p>

<p>Sometimes an instance field doesn’t change after it has been initialized, but
can’t be initialized until after the instance is constructed. For example, it
may need to reference <code class="language-plaintext highlighter-rouge">this</code> or some other field on the instance. In cases like
that, consider making the field <code class="language-plaintext highlighter-rouge">late final</code>. When you do, you may also be able
to <a href="/guides/language/effective-dart/usage#do-initialize-fields-at-their-declaration-when-possible">initialize the field at its declaration</a>.</p>

<h3 id="do-use-getters-for-operations-that-conceptually-access-properties">
<a class="anchor" href="#do-use-getters-for-operations-that-conceptually-access-properties" aria-hidden="true"><span class="octicon octicon-link"></span></a>DO use getters for operations that conceptually access properties.</h3>

<p>Deciding when a member should be a getter versus a method is a subtle but
important part of good API design, hence this very long guideline.
Some other language’s cultures shy away from getters. They only use them when
the operation is almost exactly like a field—it does a minuscule amount of
calculation on state that lives entirely on the object. Anything more complex or
heavyweight than that gets <code class="language-plaintext highlighter-rouge">()</code> after the name to signal “computation goin’ on
here!” because a bare name after a <code class="language-plaintext highlighter-rouge">.</code> means “field”.</p>

<p>Dart is <em>not</em> like that. In Dart, <em>all</em> dotted names are member invocations that
may do computation. Fields are special—they’re getters whose
implementation is provided by the language. In other words, getters are not
“particularly slow fields” in Dart; fields are “particularly fast getters”.</p>

<p>Even so, choosing a getter over a method sends an important signal to the
caller. The signal, roughly, is that the operation is “field-like”. The
operation, at least in principle, <em>could</em> be implemented using a field, as far
as the caller knows. That implies:</p>

<ul>
  <li>
    <p><strong>The operation does not take any arguments and returns a result.</strong></p>
  </li>
  <li>
    <p><strong>The caller cares mostly about the result.</strong> If you want the caller to
worry about <em>how</em> the operation produces its result more than they do the
result being produced, then give the operation a verb name that describes
the work and make it a method.</p>

    <p>This does <em>not</em> mean the operation has to be particularly fast in order to
be a getter. <code class="language-plaintext highlighter-rouge">IterableBase.length</code> is <code class="language-plaintext highlighter-rouge">O(n)</code>, and that’s OK. It’s fine for a
getter to do significant calculation. But if it does a <em>surprising</em> amount
of work, you may want to draw their attention to that by making it a method
whose name is a verb describing what it does.</p>

    <pre class="prettyprint lang-dart bad"><code>connection.nextIncomingMessage; // Does network I/O.
expression.normalForm; // Could be exponential to calculate.</code></pre>
  </li>
  <li>
    <p><strong>The operation does not have user-visible side effects.</strong> Accessing a real
field does not alter the object or any other state in the program. It
doesn’t produce output, write files, etc. A getter shouldn’t do those things
either.</p>

    <p>The “user-visible” part is important. It’s fine for getters to modify hidden
state or produce out of band side effects. Getters can lazily calculate and
store their result, write to a cache, log stuff, etc. As long as the caller
doesn’t <em>care</em> about the side effect, it’s probably fine.</p>

    <pre class="prettyprint lang-dart bad"><code>stdout.newline; // Produces output.
list.clear; // Modifies object.</code></pre>
  </li>
  <li>
    <p><strong>The operation is <em>idempotent</em>.</strong> “Idempotent” is an odd word that, in this
context, basically means that calling the operation multiple times produces
the same result each time, unless some state is explicitly modified between
those calls. (Obviously, <code class="language-plaintext highlighter-rouge">list.length</code> produces different results if you add
an element to the list between calls.)</p>

    <p>“Same result” here does not mean a getter must literally produce an
identical object on successive calls. Requiring that would force many
getters to have brittle caching, which negates the whole point of using a
getter. It’s common, and perfectly fine, for a getter to return a new future
or list each time you call it. The important part is that the future
completes to the same value, and the list contains the same elements.</p>

    <p>In other words, the result value should be the same <em>in the aspects that the
caller cares about.</em></p>

    <pre class="prettyprint lang-dart bad"><code>DateTime.now; // New result each time.</code></pre>
  </li>
  <li>
    <p><strong>The resulting object doesn’t expose all of the original object’s state.</strong>
A field exposes only a piece of an object. If your operation returns a
result that exposes the original object’s entire state, it’s likely better
off as a <a href="#prefer-naming-a-method-to___-if-it-copies-the-objects-state-to-a-new-object"><code class="language-plaintext highlighter-rouge">to___()</code></a> or <a href="#prefer-naming-a-method-as___-if-it-returns-a-different-representation-backed-by-the-original-object"><code class="language-plaintext highlighter-rouge">as___()</code></a> method.</p>
  </li>
</ul>

<p>If all of the above describe your operation, it should be a getter. It seems
like few members would survive that gauntlet, but surprisingly many do. Many
operations just do some computation on some state and most of those can and
should be getters.</p>

<pre class="prettyprint lang-dart good"><code>rectangle.area;
collection.isEmpty;
button.canShow;
dataSet.minimumValue;</code></pre>

<h3 id="do-use-setters-for-operations-that-conceptually-change-properties">
<a class="anchor" href="#do-use-setters-for-operations-that-conceptually-change-properties" aria-hidden="true"><span class="octicon octicon-link"></span></a>DO use setters for operations that conceptually change properties.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#use_setters_to_change_properties">use_setters_to_change_properties</a></p>

<p>Deciding between a setter versus a method is similar to deciding between a
getter versus a method. In both cases, the operation should be “field-like”.</p>

<p>For a setter, “field-like” means:</p>

<ul>
  <li>
    <p><strong>The operation takes a single argument and does not produce a result
value.</strong></p>
  </li>
  <li>
    <p><strong>The operation changes some state in the object.</strong></p>
  </li>
  <li>
    <p><strong>The operation is idempotent.</strong> Calling the same setter twice with the same
value should do nothing the second time as far as the caller is concerned.
Internally, maybe you’ve got some cache invalidation or logging going on.
That’s fine. But from the caller’s perspective, it appears that the second
call does nothing.</p>
  </li>
</ul>

<pre class="prettyprint lang-dart good"><code>rectangle.width = 3;
button.visible = false;</code></pre>

<h3 id="dont-define-a-setter-without-a-corresponding-getter">
<a class="anchor" href="#dont-define-a-setter-without-a-corresponding-getter" aria-hidden="true"><span class="octicon octicon-link"></span></a>DON’T define a setter without a corresponding getter.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#avoid_setters_without_getters">avoid_setters_without_getters</a></p>

<p>Users think of getters and setters as visible properties of an object. A
“dropbox” property that can be written to but not seen is confusing and
confounds their intuition about how properties work. For example, a setter
without a getter means you can use <code class="language-plaintext highlighter-rouge">=</code> to modify it, but not <code class="language-plaintext highlighter-rouge">+=</code>.</p>

<p>This guideline does <em>not</em> mean you should add a getter just to permit the setter
you want to add. Objects shouldn’t generally expose more state than they need
to. If you have some piece of an object’s state that can be modified but not
exposed in the same way, use a method instead.</p>

<h3 id="avoid-using-runtime-type-tests-to-fake-overloading">
<a class="anchor" href="#avoid-using-runtime-type-tests-to-fake-overloading" aria-hidden="true"><span class="octicon octicon-link"></span></a>AVOID using runtime type tests to fake overloading.</h3>

<p>It’s common for an API to support similar operations
on different types of parameters.
To emphasize the similarity, some languages support <em>overloading</em>,
which lets you define multiple methods
that have the same name but different parameter lists.
At compile time, the compiler looks at the actual argument types to determine
which method to call.</p>

<p>Dart doesn’t have overloading.
You can define an API that looks like overloading
by defining a single method and then using <code class="language-plaintext highlighter-rouge">is</code> type tests
inside the body to look at the runtime types of the arguments and perform the
appropriate behavior.
However, faking overloading this way turns a <em>compile time</em> method selection
into a choice that happens at <em>runtime</em>.</p>

<p>If callers usually know which type they have
and which specific operation they want,
it’s better to define separate methods with different names
to let callers select the right operation.
This gives better static type checking and faster performance
since it avoids any runtime type tests.</p>

<p>However, if users might have an object of an unknown type
and <em>want</em> the API to internally use <code class="language-plaintext highlighter-rouge">is</code> to pick the right operation,
then a single method where the parameter is a supertype
of all of the supported types might be reasonable.</p>

<h3 id="avoid-public-late-final-fields-without-initializers">
<a class="anchor" href="#avoid-public-late-final-fields-without-initializers" aria-hidden="true"><span class="octicon octicon-link"></span></a>AVOID public <code class="language-plaintext highlighter-rouge">late final</code> fields without initializers.</h3>

<p>Unlike other <code class="language-plaintext highlighter-rouge">final</code> fields, a <code class="language-plaintext highlighter-rouge">late final</code> field without an initializer <em>does</em>
define a setter. If that field is public, then the setter is public. This is
rarely what you want. Fields are usually marked <code class="language-plaintext highlighter-rouge">late</code> so that they can be
initialized <em>internally</em> at some point in the instance’s lifetime, often inside
the constructor body.</p>

<p>Unless you <em>do</em> want users to call the setter, it’s better to pick one of the
following solutions:</p>

<ul>
  <li>Don’t use <code class="language-plaintext highlighter-rouge">late</code>.</li>
  <li>Use a factory constructor to compute the <code class="language-plaintext highlighter-rouge">final</code> field values.</li>
  <li>Use <code class="language-plaintext highlighter-rouge">late</code>, but initialize the <code class="language-plaintext highlighter-rouge">late</code> field at its declaration.</li>
  <li>Use <code class="language-plaintext highlighter-rouge">late</code>, but make the <code class="language-plaintext highlighter-rouge">late</code> field private and define a public getter for it.</li>
</ul>

<h3 id="avoid-returning-nullable-future-stream-and-collection-types">
<a class="anchor" href="#avoid-returning-nullable-future-stream-and-collection-types" aria-hidden="true"><span class="octicon octicon-link"></span></a>AVOID returning nullable <code class="language-plaintext highlighter-rouge">Future</code>, <code class="language-plaintext highlighter-rouge">Stream</code>, and collection types.</h3>

<p>When an API returns a container type, it has two ways to indicate the absence of
data: It can return an empty container or it can return <code class="language-plaintext highlighter-rouge">null</code>. Users generally
assume and prefer that you use an empty container to indicate “no data”. That
way, they have a real object that they can call methods on like <code class="language-plaintext highlighter-rouge">isEmpty</code>.</p>

<p>To indicate that your API has no data to provide, prefer returning an empty
collection, a non-nullable future of a nullable type, or a stream that doesn’t
emit any values.</p>

<p><strong>Exception:</strong> If returning <code class="language-plaintext highlighter-rouge">null</code> <em>means something different</em> from yielding an
empty container, it might make sense to use a nullable type.</p>

<h3 id="avoid-returning-this-from-methods-just-to-enable-a-fluent-interface">
<a class="anchor" href="#avoid-returning-this-from-methods-just-to-enable-a-fluent-interface" aria-hidden="true"><span class="octicon octicon-link"></span></a>AVOID returning <code class="language-plaintext highlighter-rouge">this</code> from methods just to enable a fluent interface.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#avoid_returning_this">avoid_returning_this</a></p>

<p>Method cascades are a better solution for chaining method calls.</p>

<pre class="prettyprint lang-dart good"><code>var buffer = StringBuffer()
  ..write('one')
  ..write('two')
  ..write('three');</code></pre>

<pre class="prettyprint lang-dart bad"><code>var buffer = StringBuffer()
    .write('one')
    .write('two')
    .write('three');</code></pre>

<h2 id="types">
<a class="anchor" href="#types" aria-hidden="true"><span class="octicon octicon-link"></span></a>Types</h2>

<p>When you write down a type in your program, you constrain the kinds of values
that flow into different parts of your code. Types can appear in two kinds of
places: <em>type annotations</em> on declarations and type arguments to <em>generic
invocations</em>.</p>

<p>Type annotations are what you normally think of when you think of “static
types”. You can type annotate a variable, parameter, field, or return type. In
the following example, <code class="language-plaintext highlighter-rouge">bool</code> and <code class="language-plaintext highlighter-rouge">String</code> are type annotations. They hang off
the static declarative structure of the code and aren’t “executed” at runtime.</p>
<pre class="prettyprint lang-dart"><code>bool isEmpty(String parameter) {
  bool result = parameter.isEmpty;
  return result;
}</code></pre>

<p>A generic invocation is a collection literal, a call to a generic class’s
constructor, or an invocation of a generic method. In the next example, <code class="language-plaintext highlighter-rouge">num</code>
and <code class="language-plaintext highlighter-rouge">int</code> are type arguments on generic invocations. Even though they are types,
they are first-class entities that get reified and passed to the invocation at
runtime.</p>
<pre class="prettyprint lang-dart"><code>var lists = &lt;num&gt;[1, 2];
lists.addAll(List&lt;num&gt;.filled(3, 4));
lists.cast&lt;int&gt;();</code></pre>

<p>We stress the “generic invocation” part here, because type arguments can <em>also</em>
appear in type annotations:</p>
<pre class="prettyprint lang-dart"><code>List&lt;int&gt; ints = [1, 2];</code></pre>

<p>Here, <code class="language-plaintext highlighter-rouge">int</code> is a type argument, but it appears inside a type annotation, not a
generic invocation. You usually don’t need to worry about this distinction, but
in a couple of places, we have different guidance for when a type is used in a
generic invocation as opposed to a type annotation.</p>

<h4 id="type-inference">Type inference</h4>

<p>Type annotations are optional in Dart.
If you omit one, Dart tries to infer a type
based on the nearby context. Sometimes it doesn’t have enough information to
infer a complete type. When that happens, Dart sometimes reports an error, but
usually silently fills in any missing parts with <code class="language-plaintext highlighter-rouge">dynamic</code>. The implicit
<code class="language-plaintext highlighter-rouge">dynamic</code> leads to code that <em>looks</em> inferred and safe, but actually disables
type checking completely. The rules below avoid that by requiring types when
inference fails.</p>

<p>The fact that Dart has both type inference and a <code class="language-plaintext highlighter-rouge">dynamic</code> type leads to some
confusion about what it means to say code is “untyped”. Does that mean the code
is dynamically typed, or that you didn’t <em>write</em> the type? To avoid that
confusion, we avoid saying “untyped” and instead use the following terminology:</p>

<ul>
  <li>
    <p>If the code is <em>type annotated</em>, the type was explicitly written in the
code.</p>
  </li>
  <li>
    <p>If the code is <em>inferred</em>, no type annotation was written, and Dart
successfully figured out the type on its own. Inference can fail, in which
case the guidelines don’t consider that inferred.</p>
  </li>
  <li>
    <p>If the code is <em>dynamic</em>, then its static type is the special <code class="language-plaintext highlighter-rouge">dynamic</code>
type. Code can be explicitly annotated <code class="language-plaintext highlighter-rouge">dynamic</code> or it can be inferred.</p>
  </li>
</ul>

<p>In other words, whether some code is annotated or inferred is orthogonal to
whether it is <code class="language-plaintext highlighter-rouge">dynamic</code> or some other type.</p>

<p>Inference is a powerful tool to spare you the effort of writing and reading
types that are obvious or uninteresting. It keeps the reader’s attention focused
on the behavior of the code itself. Explicit types are also a key part of
robust, maintainable code. They define the static shape of an API and create
boundaries to document and enforce what kinds of values are allowed to reach
different parts of the program.</p>

<p>Of course, inference isn’t magic. Sometimes inference succeeds and selects a
type, but it’s not the type you want. The common case is inferring an overly
precise type from a variable’s initializer when you intend to assign values of
other types to the variable later. In those cases, you have to write the type
explicitly.</p>

<p>The guidelines here strike the best balance we’ve found between brevity and
control, flexibility and safety. There are specific guidelines to cover all the
various cases, but the rough summary is:</p>

<ul>
  <li>
    <p>Do annotate when inference doesn’t have enough context, even when <code class="language-plaintext highlighter-rouge">dynamic</code>
is the type you want.</p>
  </li>
  <li>
    <p>Don’t annotate locals and generic invocations unless you need to.</p>
  </li>
  <li>
    <p>Prefer annotating top-level variables and fields unless the initializer
makes the type obvious.</p>
  </li>
</ul>

<h3 id="do-type-annotate-variables-without-initializers">
<a class="anchor" href="#do-type-annotate-variables-without-initializers" aria-hidden="true"><span class="octicon octicon-link"></span></a>DO type annotate variables without initializers.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#prefer_typing_uninitialized_variables">prefer_typing_uninitialized_variables</a></p>

<p>The type of a variable—top-level, local, static field, or instance
field—can often be inferred from its initializer. However, if there is no
initializer, inference fails.</p>

<pre class="prettyprint lang-dart good"><code>List&lt;AstNode&gt; parameters;
if (node is Constructor) {
  parameters = node.signature;
} else if (node is Method) {
  parameters = node.parameters;
}</code></pre>

<pre class="prettyprint lang-dart bad"><code>var parameters;
if (node is Constructor) {
  parameters = node.signature;
} else if (node is Method) {
  parameters = node.parameters;
}</code></pre>

<h3 id="do-type-annotate-fields-and-top-level-variables-if-the-type-isnt-obvious">
<a class="anchor" href="#do-type-annotate-fields-and-top-level-variables-if-the-type-isnt-obvious" aria-hidden="true"><span class="octicon octicon-link"></span></a>DO type annotate fields and top-level variables if the type isn’t obvious.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#type_annotate_public_apis">type_annotate_public_apis</a></p>

<p>Type annotations are important documentation for how a library should be used.
They form boundaries between regions of a program to isolate the source of a
type error. Consider:</p>

<pre class="prettyprint lang-dart bad"><code>install(id, destination) =&gt; ...</code></pre>

<p>Here, it’s unclear what <code class="language-plaintext highlighter-rouge">id</code> is. A string? And what is <code class="language-plaintext highlighter-rouge">destination</code>? A string
or a <code class="language-plaintext highlighter-rouge">File</code> object? Is this method synchronous or asynchronous? This is clearer:</p>

<pre class="prettyprint lang-dart good"><code>Future&lt;bool&gt; install(PackageId id, String destination) =&gt; ...</code></pre>

<p>In some cases, though, the type is so obvious that writing it is pointless:</p>

<pre class="prettyprint lang-dart good"><code>const screenWidth = 640; // Inferred as int.</code></pre>

<p>“Obvious” isn’t precisely defined, but these are all good candidates:</p>

<ul>
  <li>Literals.</li>
  <li>Constructor invocations.</li>
  <li>References to other constants that are explicitly typed.</li>
  <li>Simple expressions on numbers and strings.</li>
  <li>Factory methods like <code class="language-plaintext highlighter-rouge">int.parse()</code>, <code class="language-plaintext highlighter-rouge">Future.wait()</code>, etc. that readers are
expected to be familiar with.</li>
</ul>

<p>If you think the initializer expression—whatever it is—is
sufficiently clear, then you may omit the annotation. But if you think
annotating helps make the code clearer, then add one.</p>

<p>When in doubt, add a type annotation. Even when a type is obvious, you may still
wish to explicitly annotate. If the inferred type relies on values or
declarations from other libraries, you may want to type annotate <em>your</em>
declaration so that a change to that other library doesn’t silently change the
type of your own API without you realizing.</p>

<p>This rule applies to both public and private declarations. Just as type
annotations on APIs help <em>users</em> of your code, types on private members help
<em>maintainers</em>.</p>

<h3 id="dont-redundantly-type-annotate-initialized-local-variables">
<a class="anchor" href="#dont-redundantly-type-annotate-initialized-local-variables" aria-hidden="true"><span class="octicon octicon-link"></span></a>DON’T redundantly type annotate initialized local variables.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#omit_local_variable_types">omit_local_variable_types</a></p>

<p>Local variables, especially in modern code where functions tend to be small,
have very little scope. Omitting the type focuses the reader’s attention on the
more important <em>name</em> of the variable and its initialized value.</p>

<pre class="prettyprint lang-dart good"><code>List&lt;List&lt;Ingredient&gt;&gt; possibleDesserts(Set&lt;Ingredient&gt; pantry) {
  var desserts = &lt;List&lt;Ingredient&gt;&gt;[];
  for (final recipe in cookbook) {
    if (pantry.containsAll(recipe)) {
      desserts.add(recipe);
    }
  }

  return desserts;
}</code></pre>

<pre class="prettyprint lang-dart bad"><code>List&lt;List&lt;Ingredient&gt;&gt; possibleDesserts(Set&lt;Ingredient&gt; pantry) {
  List&lt;List&lt;Ingredient&gt;&gt; desserts = &lt;List&lt;Ingredient&gt;&gt;[];
  for (final List&lt;Ingredient&gt; recipe in cookbook) {
    if (pantry.containsAll(recipe)) {
      desserts.add(recipe);
    }
  }

  return desserts;
}</code></pre>

<p>Sometimes the inferred type is not the type you want the variable to have. For
example, you may intend to assign values of other types later. In that case,
annotate the variable with the type you want.</p>

<pre class="prettyprint lang-dart good"><code>Widget build(BuildContext context) {
  <span class="highlight">Widget</span> result = Text('You won!');
  if (applyPadding) {
    result = Padding(padding: EdgeInsets.all(8.0), child: result);
  }
  return result;
}</code></pre>

<h3 id="do-annotate-return-types-on-function-declarations">
<a class="anchor" href="#do-annotate-return-types-on-function-declarations" aria-hidden="true"><span class="octicon octicon-link"></span></a>DO annotate return types on function declarations.</h3>

<p>Dart doesn’t generally infer the return type of a function declaration from its body,
unlike some other languages. That means you should write a type annotation for
the return type yourself.</p>

<pre class="prettyprint lang-dart good"><code>String makeGreeting(String who) {
  return 'Hello, $who!';
}</code></pre>

<pre class="prettyprint lang-dart bad"><code>makeGreeting(String who) {
  return 'Hello, $who!';
}</code></pre>

<p>Note that this guideline only applies to <em>named</em> function declarations:
top-level functions, methods, and local functions. Anonymous function
expressions infer a return type from their body. In fact, the syntax doesn’t
even allow a return type annotation.</p>

<h3 id="do-annotate-parameter-types-on-function-declarations">
<a class="anchor" href="#do-annotate-parameter-types-on-function-declarations" aria-hidden="true"><span class="octicon octicon-link"></span></a>DO annotate parameter types on function declarations.</h3>

<p>A function’s parameter list determines its boundary to the outside world.
Annotating parameter types makes that boundary well defined.
Note that even though default parameter values look like variable initializers,
Dart doesn’t infer an optional parameter’s type from its default value.</p>

<pre class="prettyprint lang-dart good"><code>void sayRepeatedly(String message, {int count = 2}) {
  for (var i = 0; i &lt; count; i++) {
    print(message);
  }
}</code></pre>

<pre class="prettyprint lang-dart bad"><code>void sayRepeatedly(message, {count = 2}) {
  for (var i = 0; i &lt; count; i++) {
    print(message);
  }
}</code></pre>

<p><strong>Exception:</strong> Function expressions and initializing formals have different type annotation conventions, as described in the next two guidelines.</p>

<h3 id="dont-annotate-inferred-parameter-types-on-function-expressions">
<a class="anchor" href="#dont-annotate-inferred-parameter-types-on-function-expressions" aria-hidden="true"><span class="octicon octicon-link"></span></a>DON’T annotate inferred parameter types on function expressions.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#avoid_types_on_closure_parameters">avoid_types_on_closure_parameters</a></p>

<p>Anonymous functions are almost always immediately passed to a method taking a
callback of some type.
When a function expression is created in a typed context,
Dart tries to infer the function’s parameter types based on the expected type.
For example, when you pass a function expression to <code class="language-plaintext highlighter-rouge">Iterable.map()</code>, your
function’s parameter type is inferred based on the type of callback that <code class="language-plaintext highlighter-rouge">map()</code>
expects:</p>

<pre class="prettyprint lang-dart good"><code>var names = people.map((person) =&gt; person.name);</code></pre>

<pre class="prettyprint lang-dart bad"><code>var names = people.map((Person person) =&gt; person.name);</code></pre>

<p>If the language is able to infer the type you want for a parameter in a function
expression, then don’t annotate. In rare cases, the surrounding
context isn’t precise enough to provide a type for one or more of the
function’s parameters. In those cases, you may need to annotate.
(If the function isn’t used immediately, it’s usually better to
<a href="usage#do-use-a-function-declaration-to-bind-a-function-to-a-name">make it a named declaration</a>.)</p>

<h3 id="dont-type-annotate-initializing-formals">
<a class="anchor" href="#dont-type-annotate-initializing-formals" aria-hidden="true"><span class="octicon octicon-link"></span></a>DON’T type annotate initializing formals.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#type_init_formals">type_init_formals</a></p>

<p>If a constructor parameter is using <code class="language-plaintext highlighter-rouge">this.</code> to initialize a field, then the type
of the parameter is inferred to have the same type as the field.</p>

<pre class="prettyprint lang-dart good"><code>class Point {
  double x, y;
  Point(this.x, this.y);
}</code></pre>

<pre class="prettyprint lang-dart bad"><code>class Point {
  double x, y;
  Point(double this.x, double this.y);
}</code></pre>

<h3 id="do-write-type-arguments-on-generic-invocations-that-arent-inferred">
<a class="anchor" href="#do-write-type-arguments-on-generic-invocations-that-arent-inferred" aria-hidden="true"><span class="octicon octicon-link"></span></a>DO write type arguments on generic invocations that aren’t inferred.</h3>

<p>Dart is pretty smart about inferring type arguments in generic invocations. It
looks at the expected type where the expression occurs and the types of
values being passed to the invocation. However, sometimes those aren’t enough to
fully determine a type argument. In that case, write the entire type argument
list explicitly.</p>

<pre class="prettyprint lang-dart good"><code>var playerScores = &lt;String, int&gt;{};
final events = StreamController&lt;Event&gt;();</code></pre>

<pre class="prettyprint lang-dart bad"><code>var playerScores = {};
final events = StreamController();</code></pre>

<p>Sometimes the invocation occurs as the initializer to a variable declaration. If
the variable is <em>not</em> local, then instead of writing the type argument list on the
invocation itself, you may put a type annotation on the declaration:</p>

<pre class="prettyprint lang-dart good"><code>class Downloader {
  final Completer&lt;String&gt; response = Completer();
}</code></pre>

<pre class="prettyprint lang-dart bad"><code>class Downloader {
  final response = Completer();
}</code></pre>

<p>Annotating the variable also addresses this guideline because now the type
arguments <em>are</em> inferred.</p>

<h3 id="dont-write-type-arguments-on-generic-invocations-that-are-inferred">
<a class="anchor" href="#dont-write-type-arguments-on-generic-invocations-that-are-inferred" aria-hidden="true"><span class="octicon octicon-link"></span></a>DON’T write type arguments on generic invocations that are inferred.</h3>

<p>This is the converse of the previous rule. If an invocation’s type argument list
<em>is</em> correctly inferred with the types you want, then omit the types and let
Dart do the work for you.</p>

<pre class="prettyprint lang-dart good"><code>class Downloader {
  final Completer&lt;String&gt; response = Completer();
}</code></pre>

<pre class="prettyprint lang-dart bad"><code>class Downloader {
  final Completer&lt;String&gt; response = Completer&lt;String&gt;();
}</code></pre>

<p>Here, the type annotation on the field provides a surrounding context to infer
the type argument of constructor call in the initializer.</p>

<pre class="prettyprint lang-dart good"><code>var items = Future.value([1, 2, 3]);</code></pre>

<pre class="prettyprint lang-dart bad"><code>var items = Future&lt;List&lt;int&gt;&gt;.value(&lt;int&gt;[1, 2, 3]);</code></pre>

<p>Here, the types of the collection and instance can be inferred bottom-up from
their elements and arguments.</p>

<h3 id="avoid-writing-incomplete-generic-types">
<a class="anchor" href="#avoid-writing-incomplete-generic-types" aria-hidden="true"><span class="octicon octicon-link"></span></a>AVOID writing incomplete generic types.</h3>

<p>The goal of writing a type annotation or type argument is to pin down a complete
type. However, if you write the name of a generic type but omit its type
arguments, you haven’t fully specified the type. In Java, these are called “raw
types”. For example:</p>

<pre class="prettyprint lang-dart bad"><code><span class="highlight">List</span> numbers = [1, 2, 3];
var completer = Completer&lt;<span class="highlight">Map</span>&gt;();</code></pre>

<p>Here, <code class="language-plaintext highlighter-rouge">numbers</code> has a type annotation, but the annotation doesn’t provide a type
argument to the generic <code class="language-plaintext highlighter-rouge">List</code>. Likewise, the <code class="language-plaintext highlighter-rouge">Map</code> type argument to <code class="language-plaintext highlighter-rouge">Completer</code>
isn’t fully specified. In cases like this, Dart will <em>not</em> try to “fill in” the
rest of the type for you using the surrounding context. Instead, it silently
fills in any missing type arguments with <code class="language-plaintext highlighter-rouge">dynamic</code> (or the bound if the
class has one). That’s rarely what you want.</p>

<p>Instead, if you’re writing a generic type either in a type annotation or as a type
argument inside some invocation, make sure to write a complete type:</p>

<pre class="prettyprint lang-dart good"><code>List&lt;num&gt; numbers = [1, 2, 3];
var completer = Completer&lt;Map&lt;String, int&gt;&gt;();</code></pre>

<h3 id="do-annotate-with-dynamic-instead-of-letting-inference-fail">
<a class="anchor" href="#do-annotate-with-dynamic-instead-of-letting-inference-fail" aria-hidden="true"><span class="octicon octicon-link"></span></a>DO annotate with <code class="language-plaintext highlighter-rouge">dynamic</code> instead of letting inference fail.</h3>

<p>When inference doesn’t fill in a type, it usually defaults to <code class="language-plaintext highlighter-rouge">dynamic</code>. If
<code class="language-plaintext highlighter-rouge">dynamic</code> is the type you want, this is technically the most terse way to get
it. However, it’s not the most <em>clear</em> way. A casual reader of your code who
sees that an annotation is missing has no way of knowing if you intended it to be
<code class="language-plaintext highlighter-rouge">dynamic</code>, expected inference to fill in some other type, or simply forgot to
write the annotation.</p>

<p>When <code class="language-plaintext highlighter-rouge">dynamic</code> is the type you want, write that explicitly to make your intent
clear and highlight that this code has less static safety.</p>

<pre class="prettyprint lang-dart good"><code>dynamic mergeJson(dynamic original, dynamic changes) =&gt; ...</code></pre>

<pre class="prettyprint lang-dart bad"><code>mergeJson(original, changes) =&gt; ...</code></pre>

<p>Note that it’s OK to omit the type when Dart <em>successfully</em> infers <code class="language-plaintext highlighter-rouge">dynamic</code>.</p>

<pre class="prettyprint lang-dart good"><code>Map&lt;String, dynamic&gt; readJson() =&gt; ...

void printUsers() {
  var json = readJson();
  var users = json['users'];
  print(users);
}</code></pre>

<p>Here, Dart infers <code class="language-plaintext highlighter-rouge">Map&lt;String, dynamic&gt;</code> for <code class="language-plaintext highlighter-rouge">json</code> and then from that infers
<code class="language-plaintext highlighter-rouge">dynamic</code> for <code class="language-plaintext highlighter-rouge">users</code>. It’s fine to leave <code class="language-plaintext highlighter-rouge">users</code> without a type annotation. The
distinction is a little subtle. It’s OK to allow inference to <em>propagate</em>
<code class="language-plaintext highlighter-rouge">dynamic</code> through your code from a <code class="language-plaintext highlighter-rouge">dynamic</code> type annotation somewhere else, but
you don’t want it to inject a <code class="language-plaintext highlighter-rouge">dynamic</code> type annotation in a place where your
code did not specify one.</p>

<aside class="alert alert-info" role="alert">
  <p><i class="fas fa-info-circle"></i>
  Before Dart 2, this guideline stated the exact opposite: 
  <em>don’t</em> annotate with <code class="language-plaintext highlighter-rouge">dynamic</code> when it is implicit. 
  With the new stronger type system and type inference, 
  users now expect Dart to behave like an inferred statically-typed language. 
  With that mental model, 
  it is an unpleasant surprise to discover that
  a region of code has silently lost all of the
  safety and performance of static types.</p>
</aside>

<p><strong>Exception</strong>: Type annotations on unused parameters (<code class="language-plaintext highlighter-rouge">_</code>) can be omitted.</p>

<h3 id="prefer-signatures-in-function-type-annotations">
<a class="anchor" href="#prefer-signatures-in-function-type-annotations" aria-hidden="true"><span class="octicon octicon-link"></span></a>PREFER signatures in function type annotations.</h3>

<p>The identifier <code class="language-plaintext highlighter-rouge">Function</code> by itself without any return type or parameter
signature refers to the special <a href="https://api.dart.dev/stable/dart-core/Function-class.html">Function</a> type. This type is only
marginally more useful than using <code class="language-plaintext highlighter-rouge">dynamic</code>. If you’re going to annotate, prefer
a full function type that includes the parameters and return type of the
function.</p>

<pre class="prettyprint lang-dart good"><code>bool isValid(String value, <span class="highlight">bool Function(String)</span> test) =&gt; ...</code></pre>

<pre class="prettyprint lang-dart bad"><code>bool isValid(String value, <span class="highlight">Function</span> test) =&gt; ...</code></pre>

<p><strong>Exception:</strong> Sometimes, you want a type that represents the union of multiple
different function types. For example, you may accept a function that takes one
parameter or a function that takes two. Since we don’t have union types, there’s
no way to precisely type that and you’d normally have to use <code class="language-plaintext highlighter-rouge">dynamic</code>.
<code class="language-plaintext highlighter-rouge">Function</code> is at least a little more helpful than that:</p>

<pre class="prettyprint lang-dart good"><code>void handleError(<span class="highlight">void Function()</span> operation, <span class="highlight">Function</span> errorHandler) {
  try {
    operation();
  } catch (err, stack) {
    if (errorHandler is <span class="highlight">Function(Object)</span>) {
      errorHandler(err);
    } else if (errorHandler is <span class="highlight">Function(Object, StackTrace)</span>) {
      errorHandler(err, stack);
    } else {
      throw ArgumentError('errorHandler has wrong signature.');
    }
  }
}</code></pre>

<h3 id="dont-specify-a-return-type-for-a-setter">
<a class="anchor" href="#dont-specify-a-return-type-for-a-setter" aria-hidden="true"><span class="octicon octicon-link"></span></a>DON’T specify a return type for a setter.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#avoid_return_types_on_setters">avoid_return_types_on_setters</a></p>

<p>Setters always return <code class="language-plaintext highlighter-rouge">void</code> in Dart. Writing the word is pointless.</p>

<pre class="prettyprint lang-dart bad"><code>void set foo(Foo value) { ... }</code></pre>

<pre class="prettyprint lang-dart good"><code>set foo(Foo value) { ... }</code></pre>

<h3 id="dont-use-the-legacy-typedef-syntax">
<a class="anchor" href="#dont-use-the-legacy-typedef-syntax" aria-hidden="true"><span class="octicon octicon-link"></span></a>DON’T use the legacy typedef syntax.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#prefer_generic_function_type_aliases">prefer_generic_function_type_aliases</a></p>

<p>Dart has two notations for defining a named typedef for a function type. The
original syntax looks like:</p>

<pre class="prettyprint lang-dart bad"><code>typedef int Comparison&lt;T&gt;(T a, T b);</code></pre>

<p>That syntax has a couple of problems:</p>

<ul>
  <li>
    <p>There is no way to assign a name to a <em>generic</em> function type. In the above
example, the typedef itself is generic. If you reference <code class="language-plaintext highlighter-rouge">Comparison</code> in
your code, without a type argument, you implicitly get the function type
<code class="language-plaintext highlighter-rouge">int Function(dynamic, dynamic)</code>, <em>not</em> <code class="language-plaintext highlighter-rouge">int Function&lt;T&gt;(T, T)</code>. This
doesn’t come up in practice often, but it matters in certain corner cases.</p>
  </li>
  <li>
    <p>A single identifier in a parameter is interpreted as the parameter’s <em>name</em>,
not its <em>type</em>. Given:</p>

    <pre class="prettyprint lang-dart bad"><code>typedef bool TestNumber(num);</code></pre>

    <p>Most users expect this to be a function type that takes a <code class="language-plaintext highlighter-rouge">num</code> and returns
<code class="language-plaintext highlighter-rouge">bool</code>. It is actually a function type that takes <em>any</em> object (<code class="language-plaintext highlighter-rouge">dynamic</code>)
and returns <code class="language-plaintext highlighter-rouge">bool</code>. The parameter’s <em>name</em> (which isn’t used for anything
except documentation in the typedef) is “num”. This has been a
long-standing source of errors in Dart.</p>
  </li>
</ul>

<p>The new syntax looks like this:</p>

<pre class="prettyprint lang-dart good"><code>typedef Comparison&lt;T&gt; = int Function(T, T);</code></pre>

<p>If you want to include a parameter’s name, you can do that too:</p>

<pre class="prettyprint lang-dart good"><code>typedef Comparison&lt;T&gt; = int Function(T a, T b);</code></pre>

<p>The new syntax can express anything the old syntax could express and more, and
lacks the error-prone misfeature where a single identifier is treated as the
parameter’s name instead of its type. The same function type syntax after the
<code class="language-plaintext highlighter-rouge">=</code> in the typedef is also allowed anywhere a type annotation may appear, giving
us a single consistent way to write function types anywhere in a program.</p>

<p>The old typedef syntax is still supported to avoid breaking existing code, but
it’s deprecated.</p>

<h3 id="prefer-inline-function-types-over-typedefs">
<a class="anchor" href="#prefer-inline-function-types-over-typedefs" aria-hidden="true"><span class="octicon octicon-link"></span></a>PREFER inline function types over typedefs.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#avoid_private_typedef_functions">avoid_private_typedef_functions</a></p>

<p>In Dart 1, if you wanted to use a function type for a field, variable, or
generic type argument, you had to first define a typedef for it. Dart 2 supports
a function type syntax that can be used anywhere a type annotation is allowed:</p>

<pre class="prettyprint lang-dart good"><code>class FilteredObservable {
  final <span class="highlight">bool Function(Event)</span> _predicate;
  final List&lt;<span class="highlight">void Function(Event)</span>&gt; _observers;

  FilteredObservable(this._predicate, this._observers);

  <span class="highlight">void Function(Event)</span>? notify(Event event) {
    if (!_predicate(event)) return null;

    <span class="highlight">void Function(Event)</span>? last;
    for (final observer in _observers) {
      observer(event);
      last = observer;
    }

    return last;
  }
}</code></pre>

<p>It may still be worth defining a typedef if the function type is particularly
long or frequently used. But in most cases, users want to see what the function
type actually is right where it’s used, and the function type syntax gives them
that clarity.</p>

<h3 id="prefer-using-function-type-syntax-for-parameters">
<a class="anchor" href="#prefer-using-function-type-syntax-for-parameters" aria-hidden="true"><span class="octicon octicon-link"></span></a>PREFER using function type syntax for parameters.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#use_function_type_syntax_for_parameters">use_function_type_syntax_for_parameters</a></p>

<p>Dart has a special syntax when defining a parameter whose type is a function.
Sort of like in C, you surround the parameter’s name with the function’s return
type and parameter signature:</p>
<pre class="prettyprint lang-dart"><code>Iterable&lt;T&gt; where(bool predicate(T element)) =&gt; ...</code></pre>

<p>Before Dart 2 added function type syntax, this was the only way to give a
parameter a function type without defining a typedef. Now that Dart has a
general notation for function types, you can use it for function-typed
parameters as well:</p>

<pre class="prettyprint lang-dart good"><code>Iterable&lt;T&gt; where(bool Function(T) predicate) =&gt; ...</code></pre>

<p>The new syntax is a little more verbose, but is consistent with other locations
where you must use the new syntax.</p>

<h3 id="avoid-using-dynamic-unless-you-want-to-disable-static-checking">
<a class="anchor" href="#avoid-using-dynamic-unless-you-want-to-disable-static-checking" aria-hidden="true"><span class="octicon octicon-link"></span></a>AVOID using <code class="language-plaintext highlighter-rouge">dynamic</code> unless you want to disable static checking.</h3>

<p>Some operations work with any possible object. For example, a <code class="language-plaintext highlighter-rouge">log()</code> method
could take any object and call <code class="language-plaintext highlighter-rouge">toString()</code> on it. Two types in Dart permit all
values: <code class="language-plaintext highlighter-rouge">Object?</code> and <code class="language-plaintext highlighter-rouge">dynamic</code>. However, they convey different things. If you
simply want to state that you allow all objects, use <code class="language-plaintext highlighter-rouge">Object?</code>. If you want to
allow all objects <em>except</em> <code class="language-plaintext highlighter-rouge">null</code>, then use <code class="language-plaintext highlighter-rouge">Object</code>.</p>

<p>The type <code class="language-plaintext highlighter-rouge">dynamic</code> not only accepts all objects, but it also permits all
<em>operations</em>. Any member access on a value of type <code class="language-plaintext highlighter-rouge">dynamic</code> is allowed at
compile time, but may fail and throw an exception at runtime. If you want
exactly that risky but flexible dynamic dispatch, then <code class="language-plaintext highlighter-rouge">dynamic</code> is the right
type to use.</p>

<p>Otherwise, prefer using <code class="language-plaintext highlighter-rouge">Object?</code> or <code class="language-plaintext highlighter-rouge">Object</code>. Rely on <code class="language-plaintext highlighter-rouge">is</code> checks and type
promotion to
ensure that the value’s runtime type supports the member you want to access
before you access it.</p>

<pre class="prettyprint lang-dart good"><code>/// Returns a Boolean representation for [arg], which must
/// be a String or bool.
bool convertToBool(Object arg) {
  if (arg is bool) return arg;
  if (arg is String) return arg.toLowerCase() == 'true';
  throw ArgumentError('Cannot convert $arg to a bool.');
}</code></pre>

<p>The main exception to this rule is when working with existing APIs that use
<code class="language-plaintext highlighter-rouge">dynamic</code>, especially inside a generic type. For example, JSON objects have type
<code class="language-plaintext highlighter-rouge">Map&lt;String, dynamic&gt;</code> and your code will need to accept that same type. Even
so, when using a value from one of these APIs, it’s often a good idea to cast it
to a more precise type before accessing members.</p>

<aside class="alert alert-info" role="alert">
  <p><i class="fas fa-code-branch"></i> <strong>Version note:</strong>
In code that hasn’t been migrated to null safety yet, use <code class="language-plaintext highlighter-rouge">Object</code> to accept
values of all types, including <code class="language-plaintext highlighter-rouge">null</code>.</p>
</aside>

<h3 id="do-use-futurevoid-as-the-return-type-of-asynchronous-members-that-do-not-produce-values">
<a class="anchor" href="#do-use-futurevoid-as-the-return-type-of-asynchronous-members-that-do-not-produce-values" aria-hidden="true"><span class="octicon octicon-link"></span></a>DO use <code class="language-plaintext highlighter-rouge">Future&lt;void&gt;</code> as the return type of asynchronous members that do not produce values.</h3>

<p>When you have a synchronous function that doesn’t return a value, you use <code class="language-plaintext highlighter-rouge">void</code>
as the return type. The asynchronous equivalent for a method that doesn’t
produce a value, but that the caller might need to await, is <code class="language-plaintext highlighter-rouge">Future&lt;void&gt;</code>.</p>

<p>You may see code that uses <code class="language-plaintext highlighter-rouge">Future</code> or <code class="language-plaintext highlighter-rouge">Future&lt;Null&gt;</code> instead because older
versions of Dart didn’t allow <code class="language-plaintext highlighter-rouge">void</code> as a type argument. Now that it does, you
should use it. Doing so more directly matches how you’d type a similar
synchronous function, and gives you better error-checking for callers and in the
body of the function.</p>

<p>For asynchronous functions that do not return a useful value and where no
callers need to await the asynchronous work or handle an asynchronous failure,
use a return type of <code class="language-plaintext highlighter-rouge">void</code>.</p>

<h3 id="avoid-using-futureort-as-a-return-type">
<a class="anchor" href="#avoid-using-futureort-as-a-return-type" aria-hidden="true"><span class="octicon octicon-link"></span></a>AVOID using <code class="language-plaintext highlighter-rouge">FutureOr&lt;T&gt;</code> as a return type.</h3>

<p>If a method accepts a <code class="language-plaintext highlighter-rouge">FutureOr&lt;int&gt;</code>, it is <a href="https://en.wikipedia.org/wiki/Robustness_principle">generous in what it
accepts</a>. Users can call the method with either an <code class="language-plaintext highlighter-rouge">int</code> or a
<code class="language-plaintext highlighter-rouge">Future&lt;int&gt;</code>, so they don’t need to wrap an <code class="language-plaintext highlighter-rouge">int</code> in <code class="language-plaintext highlighter-rouge">Future</code> that you are
going to unwrap anyway.</p>

<p>If you <em>return</em> a <code class="language-plaintext highlighter-rouge">FutureOr&lt;int&gt;</code>, users need to check whether get back an <code class="language-plaintext highlighter-rouge">int</code>
or a <code class="language-plaintext highlighter-rouge">Future&lt;int&gt;</code> before they can do anything useful. (Or they’ll just <code class="language-plaintext highlighter-rouge">await</code>
the value, effectively always treating it as a <code class="language-plaintext highlighter-rouge">Future</code>.) Just return a
<code class="language-plaintext highlighter-rouge">Future&lt;int&gt;</code>, it’s cleaner. It’s easier for users to understand that a function
is either always asynchronous or always synchronous, but a function that can be
either is hard to use correctly.</p>

<pre class="prettyprint lang-dart good"><code>Future&lt;int&gt; triple(FutureOr&lt;int&gt; value) async =&gt; (await value) * 3;</code></pre>

<pre class="prettyprint lang-dart bad"><code>FutureOr&lt;int&gt; triple(FutureOr&lt;int&gt; value) {
  if (value is int) return value * 3;
  return value.then((v) =&gt; v * 3);
}</code></pre>

<p>The more precise formulation of this guideline is to <em>only use <code class="language-plaintext highlighter-rouge">FutureOr&lt;T&gt;</code> in
<a href="https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)">contravariant</a> positions.</em> Parameters are contravariant and return types are
covariant. In nested function types, this gets flipped—if you have a
parameter whose type is itself a function, then the callback’s return type is
now in contravariant position and the callback’s parameters are covariant. This
means it’s OK for a <em>callback’s</em> type to return <code class="language-plaintext highlighter-rouge">FutureOr&lt;T&gt;</code>:</p>

<pre class="prettyprint lang-dart good"><code>Stream&lt;S&gt; asyncMap&lt;T, S&gt;(
    Iterable&lt;T&gt; iterable, <span class="highlight">FutureOr&lt;S&gt;</span> Function(T) callback) async* {
  for (final element in iterable) {
    yield await callback(element);
  }
}</code></pre>

<h2 id="parameters">
<a class="anchor" href="#parameters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h2>

<p>In Dart, optional parameters can be either positional or named, but not both.</p>

<h3 id="avoid-positional-boolean-parameters">
<a class="anchor" href="#avoid-positional-boolean-parameters" aria-hidden="true"><span class="octicon octicon-link"></span></a>AVOID positional boolean parameters.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#avoid_positional_boolean_parameters">avoid_positional_boolean_parameters</a></p>

<p>Unlike other types, booleans are usually used in literal form. Values like
numbers are usually wrapped in named constants, but we typically pass around
<code class="language-plaintext highlighter-rouge">true</code> and <code class="language-plaintext highlighter-rouge">false</code> directly. That can make call sites unreadable if it isn’t
clear what the boolean represents:</p>

<pre class="prettyprint lang-dart bad"><code>new Task(true);
new Task(false);
new ListBox(false, true, true);
new Button(false);</code></pre>

<p>Instead, prefer using named arguments, named constructors, or named constants
to clarify what the call is doing.</p>

<pre class="prettyprint lang-dart good"><code>Task.oneShot();
Task.repeating();
ListBox(scroll: true, showScrollbars: true);
Button(ButtonState.enabled);</code></pre>

<p>Note that this doesn’t apply to setters, where the name makes it clear what the
value represents:</p>

<pre class="prettyprint lang-dart good"><code>listBox.canScroll = true;
button.isEnabled = false;</code></pre>

<h3 id="avoid-optional-positional-parameters-if-the-user-may-want-to-omit-earlier-parameters">
<a class="anchor" href="#avoid-optional-positional-parameters-if-the-user-may-want-to-omit-earlier-parameters" aria-hidden="true"><span class="octicon octicon-link"></span></a>AVOID optional positional parameters if the user may want to omit earlier parameters.</h3>

<p>Optional positional parameters should have a logical progression such that
earlier parameters are passed more often than later ones. Users should almost
never need to explicitly pass a “hole” to omit an earlier positional argument to
pass later one. You’re better off using named arguments for that.</p>

<pre class="prettyprint lang-dart good"><code>String.fromCharCodes(Iterable&lt;int&gt; charCodes, [int start = 0, int? end]);

DateTime(int year,
    [int month = 1,
    int day = 1,
    int hour = 0,
    int minute = 0,
    int second = 0,
    int millisecond = 0,
    int microsecond = 0]);

Duration(
    {int days = 0,
    int hours = 0,
    int minutes = 0,
    int seconds = 0,
    int milliseconds = 0,
    int microseconds = 0});</code></pre>

<h3 id="avoid-mandatory-parameters-that-accept-a-special-no-argument-value">
<a class="anchor" href="#avoid-mandatory-parameters-that-accept-a-special-no-argument-value" aria-hidden="true"><span class="octicon octicon-link"></span></a>AVOID mandatory parameters that accept a special “no argument” value.</h3>

<p>If the user is logically omitting a parameter, prefer letting them actually omit
it by making the parameter optional instead of forcing them to pass <code class="language-plaintext highlighter-rouge">null</code>, an
empty string, or some other special value that means “did not pass”.</p>

<p>Omitting the parameter is more terse and helps prevent bugs where a sentinel
value like <code class="language-plaintext highlighter-rouge">null</code> is accidentally passed when the user thought they were
providing a real value.</p>

<pre class="prettyprint lang-dart good"><code>var rest = string.substring(start);</code></pre>

<pre class="prettyprint lang-dart bad"><code>var rest = string.substring(start, null);</code></pre>

<h3 id="do-use-inclusive-start-and-exclusive-end-parameters-to-accept-a-range">
<a class="anchor" href="#do-use-inclusive-start-and-exclusive-end-parameters-to-accept-a-range" aria-hidden="true"><span class="octicon octicon-link"></span></a>DO use inclusive start and exclusive end parameters to accept a range.</h3>

<p>If you are defining a method or function that lets a user select a range of
elements or items from some integer-indexed sequence, take a start index, which
refers to the first item and a (likely optional) end index which is one greater
than the index of the last item.</p>

<p>This is consistent with core libraries that do the same thing.</p>

<pre class="prettyprint lang-dart good"><code>[0, 1, 2, 3].sublist(1, 3) // [1, 2]
'abcd'.substring(1, 3) // 'bc'</code></pre>

<p>It’s particularly important to be consistent here because these parameters are
usually unnamed. If your API takes a length instead of an end point, the
difference won’t be visible at all at the call site.</p>

<h2 id="equality">
<a class="anchor" href="#equality" aria-hidden="true"><span class="octicon octicon-link"></span></a>Equality</h2>

<p>Implementing custom equality behavior for a class can be tricky. Users have deep
intuition about how equality works that your objects need to match, and
collection types like hash tables have subtle contracts that they expect
elements to follow.</p>

<h3 id="do-override-hashcode-if-you-override-">
<a class="anchor" href="#do-override-hashcode-if-you-override-" aria-hidden="true"><span class="octicon octicon-link"></span></a>DO override <code class="language-plaintext highlighter-rouge">hashCode</code> if you override <code class="language-plaintext highlighter-rouge">==</code>.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#hash_and_equals">hash_and_equals</a></p>

<p>The default hash code implementation provides an <em>identity</em> hash—two
objects generally only have the same hash code if they are the exact same
object. Likewise, the default behavior for <code class="language-plaintext highlighter-rouge">==</code> is identity.</p>

<p>If you are overriding <code class="language-plaintext highlighter-rouge">==</code>, it implies you may have different objects that are
considered “equal” by your class. <strong>Any two objects that are equal must have the
same hash code.</strong> Otherwise, maps and other hash-based collections will fail to
recognize that the two objects are equivalent.</p>

<h3 id="do-make-your--operator-obey-the-mathematical-rules-of-equality">
<a class="anchor" href="#do-make-your--operator-obey-the-mathematical-rules-of-equality" aria-hidden="true"><span class="octicon octicon-link"></span></a>DO make your <code class="language-plaintext highlighter-rouge">==</code> operator obey the mathematical rules of equality.</h3>

<p>An equivalence relation should be:</p>

<ul>
  <li>
    <p><strong>Reflexive</strong>: <code class="language-plaintext highlighter-rouge">a == a</code> should always return <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
  <li>
    <p><strong>Symmetric</strong>: <code class="language-plaintext highlighter-rouge">a == b</code> should return the same thing as <code class="language-plaintext highlighter-rouge">b == a</code>.</p>
  </li>
  <li>
    <p><strong>Transitive</strong>: If <code class="language-plaintext highlighter-rouge">a == b</code> and <code class="language-plaintext highlighter-rouge">b == c</code> both return <code class="language-plaintext highlighter-rouge">true</code>, then <code class="language-plaintext highlighter-rouge">a == c</code>
should too.</p>
  </li>
</ul>

<p>Users and code that uses <code class="language-plaintext highlighter-rouge">==</code> expect all of these laws to be followed. If your
class can’t obey these rules, then <code class="language-plaintext highlighter-rouge">==</code> isn’t the right name for the operation
you’re trying to express.</p>

<h3 id="avoid-defining-custom-equality-for-mutable-classes">
<a class="anchor" href="#avoid-defining-custom-equality-for-mutable-classes" aria-hidden="true"><span class="octicon octicon-link"></span></a>AVOID defining custom equality for mutable classes.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#avoid_equals_and_hash_code_on_mutable_classes">avoid_equals_and_hash_code_on_mutable_classes</a></p>

<p>When you define <code class="language-plaintext highlighter-rouge">==</code>, you also have to define <code class="language-plaintext highlighter-rouge">hashCode</code>. Both of those should
take into account the object’s fields. If those fields <em>change</em> then that
implies the object’s hash code can change.</p>

<p>Most hash-based collections don’t anticipate that—they assume an object’s
hash code will be the same forever and may behave unpredictably if that isn’t
true.</p>

<h3 id="dont-make-the-parameter-to--nullable">
<a class="anchor" href="#dont-make-the-parameter-to--nullable" aria-hidden="true"><span class="octicon octicon-link"></span></a>DON’T make the parameter to <code class="language-plaintext highlighter-rouge">==</code> nullable.</h3>

<p class="linter-rule">Linter rule: <a href="/tools/linter-rules#avoid_null_checks_in_equality_operators">avoid_null_checks_in_equality_operators</a></p>

<p>The language specifies that <code class="language-plaintext highlighter-rouge">null</code> is equal only to itself, and that the <code class="language-plaintext highlighter-rouge">==</code>
method is called only if the right-hand side is not <code class="language-plaintext highlighter-rouge">null</code>.</p>

<pre class="prettyprint lang-dart good"><code>class Person {
  final String name;
  // ···

  bool operator ==(Object other) =&gt; other is Person &amp;&amp; name == other.name;
}</code></pre>

<pre class="prettyprint lang-dart bad"><code>class Person {
  final String name;
  // ···

  bool operator ==(<span class="highlight">Object?</span> other) =&gt;
      other != null &amp;&amp; other is Person &amp;&amp; name == other.name;
}</code></pre>

<aside class="alert alert-info" role="alert">
  <p><i class="fas fa-code-branch"></i> <strong>Version note:</strong>
In code that has not been migrated to null safety yet, the <code class="language-plaintext highlighter-rouge">Object</code> type
annotation permits <code class="language-plaintext highlighter-rouge">null</code>. Even so, Dart will never call your <code class="language-plaintext highlighter-rouge">==</code> method and
pass <code class="language-plaintext highlighter-rouge">null</code> to it, so you don’t need to handle <code class="language-plaintext highlighter-rouge">null</code> inside the body of the
method.</p>
</aside>

          
<nav id="subnav">
  <ul>
    <li class="previous">
      
        <a href="/guides/language/effective-dart/usage">&lang;&nbsp;&nbsp;Usage</a>
      
    </li>
    <li class="next">
      
    </li>
  </ul>
</nav>


        </div>
      </article>
    </main>
    <footer id="page-footer">
  <div class="footer-section footer-main">
    <a href="/" class="brand" title="Dart">
      <img src="/assets/img/shared/dart/logo+text/horizontal/white.svg" alt="Dart" width="164px">
    </a>
    <div class="footer-social-links">
      <a href="https://medium.com/dartlang" target="_blank" rel="noopener" title="Medium blog" class="no-automatic-external">
        <svg>
          <use href="/assets/img/social/medium.svg#medium"></use>
        </svg>
      </a>
      <a href="https://github.com/dart-lang" target="_blank" rel="noopener" title="GitHub" class="no-automatic-external">
        <svg>
          <use href="/assets/img/social/github.svg#github"></use>
        </svg>
      </a>
      <a href="https://twitter.com/dart_lang" target="_blank" rel="noopener" title="Twitter" class="no-automatic-external">
        <svg>
          <use href="/assets/img/social/twitter.svg#twitter"></use>
        </svg>
      </a>
    </div>
  </div>
  <div class="footer-section footer-tray">
    <div class="footer-licenses">
      Salvo que se indique lo contrario, este sitio está bajo una 
      <a href="https://creativecommons.org/licenses/by/4.0/" class="no-automatic-external">licencia internacional Creative Commons Attribution 4.0</a >, 
      y los ejemplos de código tienen licencia 
      <a href="https://opensource.org/licenses/BSD-3-Clause" class="no-automatic-external">3-Clause BSD License</a>.
    </div>
    <div class="footer-utility-links">
      <ul>
        <li><a href="/terms" title="Terms of use">Términos</a></li>
        <li><a href="https://policies.google.com/privacy" target="_blank" rel="noopener" title="Privacy policy" class="no-automatic-external">Privacidad</a></li>
        <li><a href="/security" title="Security philosophy and practices">Seguridad</a></li>
      </ul>
    </div>
  </div>
</footer>

   
  </body>
</html>
