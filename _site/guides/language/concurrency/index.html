<!DOCTYPE html>
<html>
  

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Language" content="es_ES" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-M146BEZEJV"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-M146BEZEJV');
  </script>

  <meta name="description" content="Use isolates to enable parallel code execution on multiple processor cores.">
  <title>Concurrency in Dart | Dart es Español</title>

  <!-- Favicon / Touch Icons -->
  <link rel="icon" sizes="64x64" href="/assets/shared/dart/icon/64.png">
  <link href="/assets/img/touch-icon-iphone.png" rel="apple-touch-icon">
  <link href="/assets/img/touch-icon-ipad.png" rel="apple-touch-icon" sizes="152x152">
  <link href="/assets/img/touch-icon-iphone-retina.png" rel="apple-touch-icon" sizes="180x180">
  <link href="/assets/img/touch-icon-ipad-retina.png" rel="apple-touch-icon" sizes="167x167">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@dart_lang" />
  <meta name="twitter:title" content="Concurrency in Dart" />
  <meta name="twitter:description" content="Use isolates to enable parallel code execution on multiple processor cores." />

  <!-- Open Graph -->
  <meta property="og:title" content="Concurrency in Dart" />
  <meta property="og:description" content="Use isolates to enable parallel code execution on multiple processor cores." />
  <meta property="og:url" content="https://dart.esdocu.com/guides/language/concurrency/index" />
  
  <meta property="og:image" content="https://dart.esdocu.com/assets/shared/dart-logo-for-shares.png?2" />
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans+Display:wght@400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans+Mono:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap" rel="stylesheet">
  <script 
    src="https://use.fontawesome.com/releases/v5.15.4/js/all.js"
    data-auto-replace-svg="nest">
  </script>

  <link rel="stylesheet" href="/assets/css/main.css?v=1662221442">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
          integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK"
          crossorigin="anonymous"
          referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.1/umd/popper.min.js"
          integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
          crossorigin="anonymous"
          referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.1/js/bootstrap.min.js"
          integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2"
          crossorigin="anonymous"
          referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js" 
          integrity="sha512-wT7uPE7tOP6w4o28u1DN775jYjHQApdBnib5Pho4RB0Pgd9y7eSkAV1BTqQydupYDB9GBhTcQQzyNMPMV3cAew==" 
          crossorigin="anonymous" 
          referrerpolicy="no-referrer"></script>

  <script src="/assets/js/vendor/code-prettify/prettify.js"></script>
  <script src="/assets/js/vendor/code-prettify/lang-css.js"></script>
  <script src="/assets/js/vendor/code-prettify/lang-dart.js"></script>
  <script src="/assets/js/vendor/code-prettify/lang-yaml.js"></script>
  <script src="/assets/js/os-tabs.js?v=1662221442"></script>
  <script src="/assets/js/utilities.js?v=1662221442"></script>
  <script src="/assets/js/main.js?v=1662221442"></script>

  <script>

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-26406144-4', 'auto');
ga('send', 'pageview');

</script>


 </head>

  <body class="default show_banner">
    <section id="cookie-notice">
  <div class="container">
    <p>Google utiliza cookies para prestar sus servicios, personalizar anuncios y analizar el tráfico. 
      Puedes ajustar tus controles de privacidad en cualquier momento en tu 
      <a href="https://myaccount.google.com/data-and-personalization" target="_blank" rel="noopener" class="no-automatic-external">Configuración de Google</a>.
      <a href="https://policies.google.com/technologies/cookies" target="_blank" rel="noopener" class="no-automatic-external">Más información</a>.
    </p>
    <button id="cookie-consent" class="btn btn-primary">Entiendo</button>
  </div>
</section>

    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5VSZM5J"
 height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <header id="page-header" class="site-header">
  <nav id="mainnav" class="site-header">
  <div id="menu-toggle"><i class="material-icons">menu</i></div>
  <a href="/" class="brand" title="Dart es Español">
    <img src="/assets/img/shared/dart/logo+text/horizontal/white.svg" alt="Dart es Español">
  </a>
  <ul class="navbar">
    <li>
      <a href="/overview" class="nav-link">Overview</a>
    </li>
    <li class="mainnav__get-started">
      <a href="/guides" class="nav-link
         active">
        <span>Docs</span>
      </a>
    </li>
    <li>
      <a href="/community" class="nav-link">Comunidad</a>
    </li>
    <li>
      <a href="/#try-dart" class="nav-link">Probar Dart</a>
    </li>
    <li>
      <a href="/get-dart" class="nav-link">Obtener Dart</a>
    </li>
    <li class="searchfield">
      <form action="/search" class="site-header__search form-inline" id="cse-search-box">
        <input type="hidden" name="cx" value="011220921317074318178:_yy-tmb5t_i">
        <input type="hidden" name="ie" value="UTF-8">
        <input type="hidden" name="hl" value="en">
        <input class="site-header__searchfield form-control search-field" type="search" name="q"
          id="q" autocomplete="off" placeholder="Search" aria-label="Search">
      </form>
    </li>
  </ul>
</nav>

  
</header>
 <div class="banner">
  <p class="banner__text">
    Dart 2.18 ya está disponible con interoperabilidad de Objective-C y Swift y mejoras de networking, la inferencia de tipos y el rendimiento del código asíncrono. <a href="https://medium.com/@mit.mit/dart-2-18-f4b3101f146c">Más información</a><br>
    Los equipos de Flutter y Dart están contratando.
    <a href="https://docs.flutter.dev/jobs">Más información</a>
  </p>
</div> 

    <div id="sidenav" class="">
  <form action="/search/" class="site-header__search form-inline">
    <input class="site-header__searchfield form-control search-field" type="search" name="q"
           id="q" autocomplete="off" placeholder="Search" aria-label="Search">
  </form>

  <div class="site-sidebar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a href="/overview" class="nav-link">Overview</a>
      </li>
      <li class="nav-item">
        <a href="/community" class="nav-link">Comunidad</a>
      </li>
      <li class="nav-item">
        <a href="https://dartpad.dev" class="nav-link">Probar Dart</a>
      </li>
      <li class="nav-item">
        <a href="/get-dart" class="nav-link">Obtener Dart</a>
      </li>
      <li class="nav-item">
        <a href="/guides" class="nav-link active">Docs</a>
      </li>
    </ul>

    <ul class="nav flex-column"><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-1" role="button"
        aria-expanded="false" aria-controls="sidenav-1"
      >Samples & tutorials</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-1">
        <li class="nav-item">
    <a class="nav-link" href="/samples">Language samples</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable"
      data-toggle="collapse" data-target="#sidenav-1-2"
      href="#sidenav-1-2" role="button"
      aria-expanded="true" aria-controls="sidenav-1-2"
    >Codelabs
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-1-2">
      <li class="nav-item">
    <a class="nav-link" href="/codelabs">List of Dart codelabs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/codelabs/dart-cheatsheet">Language cheatsheet</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/codelabs/iterables">Iterable collections</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/codelabs/async-await">Asynchronous programming</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/codelabs/null-safety">Null safety</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/tutorials">Tutorials</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link active" data-toggle="collapse" href="#sidenav-2" role="button"
        aria-expanded="true" aria-controls="sidenav-2"
      >Language</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-2">
        <li class="nav-item">
    <a class="nav-link" href="/guides/language/language-tour">Tour</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/type-system">Type system</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-2-3"
      href="#sidenav-2-3" role="button"
      aria-expanded="false" aria-controls="sidenav-2-3"
    >Effective Dart
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-2-3">
      <li class="nav-item">
    <a class="nav-link" href="/guides/language/effective-dart">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/effective-dart/style">Style</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/effective-dart/documentation">Documentation</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/effective-dart/usage">Usage</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/effective-dart/design">Design</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-2-4"
      href="#sidenav-2-4" role="button"
      aria-expanded="false" aria-controls="sidenav-2-4"
    >Coming from ...
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-2-4">
      <li class="nav-item">
    <a class="nav-link" href="/guides/language/coming-from/js-to-dart">JavaScript to Dart</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/guides/language/extension-methods">Extension methods</a>
  </li><li class="nav-item">
    <a class="nav-link active" href="/guides/language/concurrency">Concurrency</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/numbers">Numbers</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-2-8"
      href="#sidenav-2-8" role="button"
      aria-expanded="false" aria-controls="sidenav-2-8"
    >Null safety
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-2-8">
      <li class="nav-item">
    <a class="nav-link" href="/null-safety">Overview: Sound null safety</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/null-safety/migration-guide">Migrating to null safety</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/null-safety/understanding-null-safety">Understanding null safety</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/null-safety/unsound-null-safety">Unsound null safety</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/null-safety/faq">FAQ</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/guides/language/evolution">Evolution</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/spec">Specification</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-3" role="button"
        aria-expanded="false" aria-controls="sidenav-3"
      >Core libraries</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3">
        <li class="nav-item">
    <a class="nav-link" href="/guides/libraries">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/library-tour">Tour</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-3"
      href="#sidenav-3-3" role="button"
      aria-expanded="false" aria-controls="sidenav-3-3"
    >Articles
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-3">
      <li class="nav-item">
    <a class="nav-link" href="/articles/libraries/dart-io">Intro to dart:io</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/articles/libraries/creating-streams">Creating streams</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-4" role="button"
        aria-expanded="false" aria-controls="sidenav-4"
      >Packages</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-4">
        <li class="nav-item">
    <a class="nav-link" href="/guides/packages">How to use packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/useful-libraries">Commonly used packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/create-library-packages">Creating packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/publishing">Publishing packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/writing-package-pages">Writing package pages</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-4-6"
      href="#sidenav-4-6" role="button"
      aria-expanded="false" aria-controls="sidenav-4-6"
    >Package reference
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-4-6">
      <li class="nav-item">
    <a class="nav-link" href="/tools/pub/dependencies">Dependencies</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/glossary">Glossary</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/package-layout">Package layout conventions</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/environment-variables">Pub environment variables</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/pubspec">Pubspec file</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/troubleshoot">Troubleshooting pub</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/verified-publishers">Verified publishers</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/versioning">Versioning</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-5" role="button"
        aria-expanded="false" aria-controls="sidenav-5"
      >Development</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5">
        <li class="nav-item">
    <a class="nav-link" href="/codelabs/async-await">Futures, async, await</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/language/streams">Streams</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/json">JSON</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-4"
      href="#sidenav-5-4" role="button"
      aria-expanded="false" aria-controls="sidenav-5-4"
    >Interoperability
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-4">
      <li class="nav-item">
    <a class="nav-link" href="/guides/libraries/c-interop">C interop</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/objective-c-interop">Objective-C and Swift interop</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/web/js-interop">JavaScript interop</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/guides/google-apis">Google APIs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/multiplatform-apps">Multi-platform apps</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-7"
      href="#sidenav-5-7" role="button"
      aria-expanded="false" aria-controls="sidenav-5-7"
    >Command-line & server apps
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-7">
      <li class="nav-item">
    <a class="nav-link" href="/server">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/server/get-started">Get started</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/server/cmdline">Write command-line apps</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/server/httpserver">Write HTTP servers</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/server/libraries">Libraries and packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/server/google-cloud">Google Cloud</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-8"
      href="#sidenav-5-8" role="button"
      aria-expanded="false" aria-controls="sidenav-5-8"
    >Web apps
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-8">
      <li class="nav-item">
    <a class="nav-link" href="/web">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/web/get-started">Get started</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/web/fetch-data">Fetch data dynamically</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-8-4"
      href="#sidenav-5-8-4" role="button"
      aria-expanded="false" aria-controls="sidenav-5-8-4"
    >Low-level web programming
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-8-4">
      <li class="nav-item">
    <a class="nav-link" href="/tutorials/web/low-level-html/connect-dart-html">Connect Dart & HTML</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tutorials/web/low-level-html/add-elements">Add elements to the DOM</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tutorials/web/low-level-html/remove-elements">Remove DOM elements</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/web/deployment">Deployment</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/web/libraries">Libraries and packages</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-6" role="button"
        aria-expanded="false" aria-controls="sidenav-6"
      >Tools & techniques</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6">
        <li class="nav-item">
    <a class="nav-link" href="/tools">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-2"
      href="#sidenav-6-2" role="button"
      aria-expanded="false" aria-controls="sidenav-6-2"
    >Editors & debuggers
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-2">
      <li class="nav-item">
    <a class="nav-link" href="/tools/jetbrains-plugin">IntelliJ & Android Studio</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/vs-code">VS Code</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/dart-devtools">Dart DevTools</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/dartpad">DartPad</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-3"
      href="#sidenav-6-3" role="button"
      aria-expanded="false" aria-controls="sidenav-6-3"
    >Command-line tools
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-3">
      <li class="nav-item">
    <a class="nav-link collapsable"
      data-toggle="collapse" data-target="#sidenav-6-3-1"
      href="#sidenav-6-3-1" role="button"
      aria-expanded="true" aria-controls="sidenav-6-3-1"
    >Dart SDK
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-6-3-1">
      <li class="nav-item">
    <a class="nav-link" href="/tools/sdk">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-tool">dart</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-analyze">dart analyze</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-compile">dart compile</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-create">dart create</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-doc">dart doc</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-fix">dart fix</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-format">dart format</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/pub/cmd">dart pub</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-run">dart run</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-test">dart test</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dartaotruntime">dartaotruntime</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/experiment-flags">Experiment flags</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable"
      data-toggle="collapse" data-target="#sidenav-6-3-2"
      href="#sidenav-6-3-2" role="button"
      aria-expanded="true" aria-controls="sidenav-6-3-2"
    >Other command-line tools
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-6-3-2">
      <li class="nav-item">
    <a class="nav-link" href="/tools/build_runner">build_runner</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/webdev">webdev</a>
  </li>
  </ul>
  </li>
</ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-4"
      href="#sidenav-6-4" role="button"
      aria-expanded="false" aria-controls="sidenav-6-4"
    >Managing source code
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-4">
      <li class="nav-item">
    <a class="nav-link" href="/guides/language/formatting">Formatting code</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/private-files">What not to commit</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-5"
      href="#sidenav-6-5" role="button"
      aria-expanded="false" aria-controls="sidenav-6-5"
    >Static analysis
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-5">
      <li class="nav-item">
    <a class="nav-link" href="/guides/language/analysis-options">Customizing static analysis</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/sound-problems">Fixing common type problems</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/diagnostic-messages">Diagnostic messages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/linter-rules">Linter rules</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-6"
      href="#sidenav-6-6" role="button"
      aria-expanded="false" aria-controls="sidenav-6-6"
    >Testing & optimization
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-6">
      <li class="nav-item">
    <a class="nav-link" href="/guides/testing">Testing</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/web/debugging">Debugging web apps</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-7" role="button"
        aria-expanded="false" aria-controls="sidenav-7"
      >Resources</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7">
        <li class="nav-item">
    <a class="nav-link" href="/resources">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/resources/books">Books</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/resources/dartpad-best-practices">DartPad in tutorials: Best practices</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/code-of-conduct">Code of conduct</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/faq">FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-7-6"
      href="#sidenav-7-6" role="button"
      aria-expanded="false" aria-controls="sidenav-7-6"
    >History
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7-6">
      <li class="nav-item">
    <a class="nav-link" href="/dart-2">Migrating to Dart&nbsp;2</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/resources/videos">Videos</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link " data-toggle="collapse" href="#sidenav-8" role="button"
        aria-expanded="true" aria-controls="sidenav-8"
      >Related sites</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-8">
        <li class="nav-item">
    <a class="nav-link" href="https://api.dart.dev" target="_blank" rel="noopener">API reference<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://medium.com/dartlang" target="_blank" rel="noopener">Blog<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://dartpad.dev" target="_blank" rel="noopener">DartPad (online editor)<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://flutter.dev" target="_blank" rel="noopener">Flutter<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev" target="_blank" rel="noopener">Package site<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li>
</ul>
    </li></ul>

  </div>
</div>

    <main id="page-content">
      







<div id="site-toc--side" class="site-toc ">
  <header class="site-toc__title">
    Contents
    <button type="button" class="btn site-toc--button__page-top" aria-label="Page top"></button>
    
  </header>
  <ul id="toc" class="section-nav">
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#asynchrony-types-and-syntax">Asynchrony types and syntax</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#future-and-stream-types">Future and Stream types</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#the-async-await-syntax">The async-await syntax</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#how-isolates-work">How isolates work</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#the-main-isolate">The main isolate</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#the-isolate-life-cycle">The isolate life cycle</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#event-handling">Event handling</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#background-workers">Background workers</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#code-examples">Code examples</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#implementing-a-simple-worker-isolate">Implementing a simple worker isolate</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#sending-multiple-messages-between-isolates">Sending multiple messages between isolates</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#performance-and-isolate-groups">Performance and isolate groups</a></li>
</ul>
</div>


      <article>
        <div class="content">
          

          <div>
            <div id="page-github-links" class="btn-group" aria-label="Page GitHub links" role="group">
  <a href="https://github.com/dart-lang/site-www/tree/main/src/_guides/language/concurrency/index.md" class="btn no-automatic-external" title="View page source" target="_blank" rel="noopener">
    <i class="fas fa-file-alt fa-sm"></i>
  </a>
  <a href="https://github.com/dart-lang/site-www/issues/new?template=1_page_issue.yml&title=[PAGE ISSUE]: 'Concurrency in Dart'&page-url=https://dart.esdocu.com/guides/language/concurrency/index&page-source=https://github.com/dart-lang/site-www/tree/main/src/_guides/language/concurrency/index.md" class="btn no-automatic-external" title="Report an issue with this page"
    target="_blank" rel="noopener">
    <i class="fas fa-bug fa-sm"></i>
  </a>
</div>

            <h1>Concurrency in Dart</h1>
          </div>

          <div style="border: 1px rgba(255,0,0,.3) solid; background-color: rgba(255,0,0,.03); color: rgba(190,0,0,.9); padding: 18px 15px 15px 15px; border-radius: 10px; margin-bottom: 40px;">
            <h4 style="margin:0;color: rgba(190,0,0,.9);">Traducción al Español</h4>
            <p style="margin: 10px 0 0 0">Este es un proyecto de traducción en proceso, algunas páginas todavía se encuentran en inglés. Gracias por la comprensión.</p>
          </div>
  
          







<div id="site-toc--inline" class="site-toc toc-collapsible toc-collapsed">
  <header class="site-toc__title">
    Contents
    <button type="button" class="btn site-toc--button__page-top" aria-label="Page top"></button>
    
      <span class="site-toc--inline__toggle toc-toggle-down"><i class="material-icons">keyboard_arrow_down</i></span>
      <span class="site-toc--inline__toggle toc-toggle-up"><i class="material-icons">keyboard_arrow_up</i></span>
    
  </header>
  <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#asynchrony-types-and-syntax">Asynchrony types and syntax</a>
<ul>
<li class="toc-entry toc-h3"><a href="#future-and-stream-types">Future and Stream types</a></li>
<li class="toc-entry toc-h3"><a href="#the-async-await-syntax">The async-await syntax</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#how-isolates-work">How isolates work</a>
<ul>
<li class="toc-entry toc-h3"><a href="#the-main-isolate">The main isolate</a></li>
<li class="toc-entry toc-h3"><a href="#the-isolate-life-cycle">The isolate life cycle</a></li>
<li class="toc-entry toc-h3"><a href="#event-handling">Event handling</a></li>
<li class="toc-entry toc-h3"><a href="#background-workers">Background workers</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#code-examples">Code examples</a>
<ul>
<li class="toc-entry toc-h3"><a href="#implementing-a-simple-worker-isolate">Implementing a simple worker isolate</a></li>
<li class="toc-entry toc-h3"><a href="#sending-multiple-messages-between-isolates">Sending multiple messages between isolates</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#performance-and-isolate-groups">Performance and isolate groups</a></li>
</ul>
</div>


          
<style>
  img {
    padding: 15px 0;
  }
}

</style>

<p>Dart supports concurrent programming with async-await, isolates, and
classes such as <code class="language-plaintext highlighter-rouge">Future</code> and <code class="language-plaintext highlighter-rouge">Stream</code>.
This page gives an overview of async-await, <code class="language-plaintext highlighter-rouge">Future</code>, and <code class="language-plaintext highlighter-rouge">Stream</code>,
but it’s mostly about isolates.</p>

<p>Within an app, all Dart code runs in an <em>isolate.</em>
Each Dart isolate has a single thread of execution and
shares no mutable objects with other isolates.
To communicate with each other,
isolates use message passing.
Although Dart’s isolate model is built with underlying primitives
such as processes and threads
that the operating system provides,
the Dart VM’s use of these primitives
is an implementation detail that this page doesn’t discuss.</p>

<p>Many Dart apps use only one isolate (the <em>main isolate</em>),
but you can create additional isolates,
enabling parallel code execution on multiple processor cores.</p>

<aside class="alert alert-info" role="alert">
  <p><i class="fas fa-info-circle"></i>
  <strong>Platform note:</strong>
  All apps can use async-await, <code class="language-plaintext highlighter-rouge">Future</code>, and <code class="language-plaintext highlighter-rouge">Stream</code>.
  Isolates are implemented only on the <a href="/overview#platform">Dart Native platform</a>;
  Dart web apps can use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers">web workers</a> for similar functionality.</p>
</aside>

<h2 id="asynchrony-types-and-syntax">
<a class="anchor" href="#asynchrony-types-and-syntax" aria-hidden="true"><span class="octicon octicon-link"></span></a>Asynchrony types and syntax</h2>

<p>If you’re already familiar with <code class="language-plaintext highlighter-rouge">Future</code>, <code class="language-plaintext highlighter-rouge">Stream</code>, and async-await,
then you can skip ahead to the <a href="#how-isolates-work">isolates section</a>.</p>

<h3 id="future-and-stream-types">
<a class="anchor" href="#future-and-stream-types" aria-hidden="true"><span class="octicon octicon-link"></span></a>Future and Stream types</h3>

<p>The Dart language and libraries use <code class="language-plaintext highlighter-rouge">Future</code> and <code class="language-plaintext highlighter-rouge">Stream</code> objects to
represent values to be provided in the future.
For example, a promise to eventually provide an <code class="language-plaintext highlighter-rouge">int</code> value
is typed as <code class="language-plaintext highlighter-rouge">Future&lt;int&gt;</code>.
A promise to provide a series of <code class="language-plaintext highlighter-rouge">int</code> values
has the type <code class="language-plaintext highlighter-rouge">Stream&lt;int&gt;</code>.</p>

<p>As another example, consider the dart:io methods for reading files.
The synchronous <code class="language-plaintext highlighter-rouge">File</code> method <a href="https://api.dart.dev/stable/dart-io/File/readAsStringSync.html"><code class="language-plaintext highlighter-rouge">readAsStringSync()</code></a>
reads a file synchronously,
blocking until the file is either fully read or an error occurs.
The method then either returns an object of type <code class="language-plaintext highlighter-rouge">String</code>
or throws an exception.
The asynchronous equivalent, <a href="https://api.dart.dev/stable/dart-io/File/readAsString.html"><code class="language-plaintext highlighter-rouge">readAsString()</code></a>,
immediately returns an object of type <code class="language-plaintext highlighter-rouge">Future&lt;String&gt;</code>.
At some point in the future,
the <code class="language-plaintext highlighter-rouge">Future&lt;String&gt;</code> completes with either a string value or an error.</p>

<h4 id="why-asynchronous-code-matters">Why asynchronous code matters</h4>

<p>It matters whether a method is synchronous or asynchronous
because most apps need to do more than one thing at a time.</p>

<p>Asynchronous computations are often the result of performing computations
outside of the current Dart code; 
this includes computations that don’t complete immediately, 
and where you aren’t willing to block your Dart code waiting for the result.
For example, an app might start an HTTP request,
but need to update its display or respond to user input
before the HTTP request completes.
Asynchronous code helps apps stay responsive.</p>

<p>These scenarios include operating system calls like
non-blocking I/O, performing an HTTP request, or communicating with a browser. 
Other scenarios include waiting for computations
performed in another Dart isolate as described below, 
or maybe just waiting for a timer to trigger. 
All of these processes either run in a different thread, 
or are handled by the operating system or the Dart runtime, 
which allows Dart code to run concurrently with the computation.</p>

<h3 id="the-async-await-syntax">
<a class="anchor" href="#the-async-await-syntax" aria-hidden="true"><span class="octicon octicon-link"></span></a>The async-await syntax</h3>

<p>The <code class="language-plaintext highlighter-rouge">async</code> and <code class="language-plaintext highlighter-rouge">await</code> keywords provide
a declarative way to define asynchronous functions
and use their results.</p>

<p>Here’s an example of some synchronous code
that blocks while waiting for file I/O:</p>

<div class="code-excerpt">
<div class="code-excerpt__code"><pre class="prettyprint lang-dart">void main() {
  // Read some data.
  final fileData = _readFileSync();
  final jsonData = jsonDecode(fileData);

  // Use that data.
  print('Number of JSON keys: ${jsonData.length}');
}

String _readFileSync() {
  final file = File(filename);
  final contents = file.readAsStringSync();
  return contents.trim();
}</pre></div>
</div>

<p>Here’s similar code, but with changes (highlighted) to make it asynchronous:</p>
<pre class="prettyprint lang-dart"><code>void main() <span class="highlight">async</span> {
  // Read some data.
  final fileData = <span class="highlight">await</span> _readFileAsync();
  final jsonData = jsonDecode(fileData);

  // Use that data.
  print('Number of JSON keys: ${jsonData.length}');
}

<span class="highlight">Future&lt;String&gt;</span> _readFileAsync() <span class="highlight">async</span> {
  final file = File(filename);
  final contents = <span class="highlight">await</span> file.<span class="highlight">readAsString()</span>;
  return contents.trim();
}</code></pre>

<p>The <code class="language-plaintext highlighter-rouge">main()</code> function uses the <code class="language-plaintext highlighter-rouge">await</code> keyword in front of <code class="language-plaintext highlighter-rouge">_readFileAsync()</code>
to let other Dart code (such as event handlers) use the CPU
while native code (file I/O) executes.
Using <code class="language-plaintext highlighter-rouge">await</code> also has the effect of
converting the <code class="language-plaintext highlighter-rouge">Future&lt;String&gt;</code> returned by <code class="language-plaintext highlighter-rouge">_readFileAsync()</code> into a <code class="language-plaintext highlighter-rouge">String</code>.
As a result, the <code class="language-plaintext highlighter-rouge">contents</code> variable has the implicit type <code class="language-plaintext highlighter-rouge">String</code>.</p>

<aside class="alert alert-info" role="alert">
  <p><i class="fas fa-info-circle"></i> <strong>Note:</strong>
  The <code class="language-plaintext highlighter-rouge">await</code> keyword works only in functions that
  have <code class="language-plaintext highlighter-rouge">async</code> before the function body.</p>
</aside>

<p>As the following figure shows,
the Dart code pauses while <code class="language-plaintext highlighter-rouge">readAsString()</code> executes non-Dart code,
in either the Dart virtual machine (VM) or the operating system (OS).
Once <code class="language-plaintext highlighter-rouge">readAsString()</code> returns a value, Dart code execution resumes.</p>

<p><img src="/guides/language/concurrency/images/basics-await.png" alt="Flowchart-like figure showing app code executing from start to exit, waiting for native I/O in between"></p>

<p>If you’d like to learn more about using <code class="language-plaintext highlighter-rouge">async</code>, <code class="language-plaintext highlighter-rouge">await</code>, and futures,
visit the <a href="/codelabs/async-await">asynchronous programming codelab</a>.</p>

<h2 id="how-isolates-work">
<a class="anchor" href="#how-isolates-work" aria-hidden="true"><span class="octicon octicon-link"></span></a>How isolates work</h2>

<p>Most modern devices have multi-core CPUs.
To take advantage of all those cores,
developers sometimes use shared-memory threads running concurrently.
However, shared-state concurrency is
<a href="https://en.wikipedia.org/wiki/Race_condition#In_software">error prone</a> and
can lead to complicated code.</p>

<p>Instead of threads, all Dart code runs inside of isolates.
Each isolate has its own memory heap,
ensuring that none of the state in an isolate is accessible from
any other isolate.
Because there’s no shared memory, you don’t have to worry about
<a href="https://en.wikipedia.org/wiki/Lock_(computer_science)">mutexes or locks</a>.</p>

<p>Using isolates, your Dart code can perform multiple independent tasks at once,
using additional processor cores if they’re available.
Isolates are like threads or processes,
but each isolate has its own memory and a single thread running an event loop.</p>

<h3 id="the-main-isolate">
<a class="anchor" href="#the-main-isolate" aria-hidden="true"><span class="octicon octicon-link"></span></a>The main isolate</h3>

<p>You often don’t need to think about isolates at all.
A typical Dart app executes all its code in the app’s main isolate,
as shown in the following figure:</p>

<p><img src="/guides/language/concurrency/images/basics-main-isolate.png" alt="A figure showing a main isolate, which runs `main()`, responds to events, and then exits"></p>

<p>Even single-isolate programs can execute smoothly
by using async-await to wait for asynchronous operations to complete
before continuing to the next line of code.
A well-behaved app starts quickly,
getting to the event loop as soon as possible.
The app then responds to each queued event promptly,
using asynchronous operations as necessary.</p>

<h3 id="the-isolate-life-cycle">
<a class="anchor" href="#the-isolate-life-cycle" aria-hidden="true"><span class="octicon octicon-link"></span></a>The isolate life cycle</h3>

<p>As the following figure shows,
every isolate starts by running some Dart code,
such as the <code class="language-plaintext highlighter-rouge">main()</code> function.
This Dart code might register some event listeners—to 
respond to user input or file I/O, for example.
When the isolate’s initial function returns,
the isolate stays around if it needs to handle events.
After handling the events, the isolate exits.</p>

<p><img src="/guides/language/concurrency/images/basics-isolate.png" alt="A more general figure showing that any isolate runs some code, optionally responds to events, and then exits"></p>

<h3 id="event-handling">
<a class="anchor" href="#event-handling" aria-hidden="true"><span class="octicon octicon-link"></span></a>Event handling</h3>

<p>In a client app, the main isolate’s event queue might contain
repaint requests and notifications of tap and other UI events.
For example, the following figure shows a repaint event,
followed by a tap event, followed by two repaint events.
The event loop takes events from the queue in first in, first out order.</p>

<p><img src="/guides/language/concurrency/images/event-loop.png" alt="A figure showing events being fed, one by one, into the event loop"></p>

<p>Event handling happens on the main isolate after <code class="language-plaintext highlighter-rouge">main()</code> exits.
In the following figure, after <code class="language-plaintext highlighter-rouge">main()</code> exits,
the main isolate handles the first repaint event.
After that, the main isolate handles the tap event,
followed by a repaint event.</p>

<p><img src="/guides/language/concurrency/images/event-handling.png" alt="A figure showing the main isolate executing event handlers, one by one"></p>

<p>If a synchronous operation takes too much processing time,
the app can become unresponsive.
In the following figure, the tap-handling code takes too long,
so subsequent events are handled too late.
The app might appear to freeze,
and any animation it performs might be jerky.</p>

<p><img src="/guides/language/concurrency/images/event-jank.png" alt="A figure showing a tap handler with a too-long execution time"></p>

<p>In client apps, the result of a too-lengthy synchronous operation is often
<a href="https://docs.flutter.dev/perf/rendering-performance">janky (non-smooth) UI animation</a>.
Worse, the UI might become completely unresponsive.</p>

<h3 id="background-workers">
<a class="anchor" href="#background-workers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Background workers</h3>

<p>If your app’s UI becomes unresponsive due to 
a time-consuming computation—<a href="https://docs.flutter.dev/cookbook/networking/background-parsing">parsing a large JSON file</a>, 
for example—consider offloading that computation to a worker isolate,
often called a <em>background worker.</em>
A common case, shown in the following figure,
is spawning a simple worker isolate that
performs a computation and then exits.
The worker isolate returns its result in a message when the worker exits.</p>

<p><img src="/guides/language/concurrency/images/isolate-bg-worker.png" alt="A figure showing a main isolate and a simple worker isolate"></p>

<p>Each isolate message can deliver one object,
which includes anything that’s transitively reachable from that object.
Not all object types are sendable, and
the send fails if any transitively reachable object is unsendable.
For example, you can send an object of type <code class="language-plaintext highlighter-rouge">List&lt;Object&gt;</code> only if
none of the objects in the list is unsendable.
If one of the objects is, say, a <code class="language-plaintext highlighter-rouge">Socket</code>, then
the send fails because sockets are unsendable.</p>

<p>For information on the kinds of objects that you can send in messages,
see the API reference documentation for the <a href="https://api.dart.dev/stable/dart-isolate/SendPort/send.html"><code class="language-plaintext highlighter-rouge">send()</code> method</a>.</p>

<p>A worker isolate can perform I/O
(reading and writing files, for example), set timers, and more.
It has its own memory and
doesn’t share any state with the main isolate.
The worker isolate can block without affecting other isolates.</p>

<h2 id="code-examples">
<a class="anchor" href="#code-examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code examples</h2>

<p>This section discusses some examples
that use the <code class="language-plaintext highlighter-rouge">Isolate</code> API
to implement isolates.</p>

<aside class="alert alert-info" role="alert">
  <p><img src="/assets/img/shared/flutter/icon/64.png" width="24" alt="Flutter logo"> <strong>Flutter note:</strong>
  If you’re using Flutter on a non-web platform,
  then instead of using the <code class="language-plaintext highlighter-rouge">Isolate</code> API directly,
  consider using the <a href="https://docs.flutter.dev/cookbook/networking/background-parsing#4-move-this-work-to-a-separate-isolate">Flutter <code class="language-plaintext highlighter-rouge">compute()</code> function</a>.
  The <code class="language-plaintext highlighter-rouge">compute()</code> function is a simple way to
  move a single function call to a worker isolate.</p>
</aside>

<h3 id="implementing-a-simple-worker-isolate">
<a class="anchor" href="#implementing-a-simple-worker-isolate" aria-hidden="true"><span class="octicon octicon-link"></span></a>Implementing a simple worker isolate</h3>

<p>This section shows the implementation for a
main isolate and the simple worker isolate that it spawns.
The worker isolate executes a function and then exits,
sending the main isolate a single message as it exits.
(The <a href="https://docs.flutter.dev/cookbook/networking/background-parsing#4-move-this-work-to-a-separate-isolate">Flutter <code class="language-plaintext highlighter-rouge">compute()</code> function</a> works in a similar way.)</p>

<p>This example uses the following isolate-related API:</p>

<ul>
  <li>
<a href="https://api.dart.dev/stable/dart-isolate/Isolate/spawn.html"><code class="language-plaintext highlighter-rouge">Isolate.spawn()</code></a> and <a href="https://api.dart.dev/stable/dart-isolate/Isolate/exit.html"><code class="language-plaintext highlighter-rouge">Isolate.exit()</code></a>
</li>
  <li>
<a href="https://api.dart.dev/stable/dart-isolate/ReceivePort-class.html"><code class="language-plaintext highlighter-rouge">ReceivePort</code></a> and <a href="https://api.dart.dev/stable/dart-isolate/SendPort-class.html"><code class="language-plaintext highlighter-rouge">SendPort</code></a>
</li>
</ul>

<p>Here’s the code for the main isolate:</p>

<div class="code-excerpt">
<div class="code-excerpt__code"><pre class="prettyprint lang-dart">void main() async {
  // Read some data.
  final jsonData = await _parseInBackground();

  // Use that data
  print('Number of JSON keys: ${jsonData.length}');
}

// Spawns an isolate and waits for the first message
Future&lt;Map&lt;String, dynamic&gt;&gt; _parseInBackground() async {
  final p = ReceivePort();
  await Isolate.spawn(_readAndParseJson, p.sendPort);
  return await p.first as Map&lt;String, dynamic&gt;;
}</pre></div>
</div>

<p>The <code class="language-plaintext highlighter-rouge">_parseInBackground()</code> function contains the code that
<em>spawns</em> (creates and starts) the isolate for the background worker,
and then returns the result:</p>

<ol>
  <li>
    <p>Before spawning the isolate, the code creates a <code class="language-plaintext highlighter-rouge">ReceivePort</code>,
which enables the worker isolate
to send messages to the main isolate.</p>
  </li>
  <li>
    <p>Next is the call to <code class="language-plaintext highlighter-rouge">Isolate.spawn()</code>,
which creates and starts the isolate for the background worker.
The first argument to <code class="language-plaintext highlighter-rouge">Isolate.spawn()</code> is the function that
the worker isolate executes: <code class="language-plaintext highlighter-rouge">_readAndParseJson</code>.
The second argument is the <code class="language-plaintext highlighter-rouge">SendPort</code>
that the worker isolate can use to send messages to the main isolate.
The code doesn’t <em>create</em> a <code class="language-plaintext highlighter-rouge">SendPort</code>;
it uses the <code class="language-plaintext highlighter-rouge">sendPort</code> property of the <code class="language-plaintext highlighter-rouge">ReceivePort</code>.</p>
  </li>
  <li>
    <p>Once the isolate is spawned, the main isolate waits for the result.
Because the <code class="language-plaintext highlighter-rouge">ReceivePort</code> class implements <code class="language-plaintext highlighter-rouge">Stream</code>,
the <a href="https://api.dart.dev/stable/dart-async/Stream/first.html"><code class="language-plaintext highlighter-rouge">first</code></a> property is an easy way to get
the single message that the worker isolate sends.</p>
  </li>
</ol>

<p>The spawned isolate executes the following code:</p>

<div class="code-excerpt">
<div class="code-excerpt__code"><pre class="prettyprint lang-dart">Future&lt;void&gt; _readAndParseJson(SendPort p) async {
  final fileData = await File(filename).readAsString();
  final jsonData = jsonDecode(fileData);
  Isolate.exit(p, jsonData);
}</pre></div>
</div>

<p>The relevant statement is the last one, which exits the isolate,
sending <code class="language-plaintext highlighter-rouge">jsonData</code> to the passed-in <code class="language-plaintext highlighter-rouge">SendPort</code>.
Message passing using <code class="language-plaintext highlighter-rouge">SendPort.send</code> normally involves data copying,
and thus can be slow.
However, when you send the data using <code class="language-plaintext highlighter-rouge">Isolate.exit()</code>,
then the memory that holds the message in the exiting isolate isn’t copied,
but instead is transferred to the receiving isolate.
The sender will nonetheless perform a verification pass to ensure
the objects are allowed to be transferred.</p>

<aside class="alert alert-info" role="alert">
  <p><i class="fas fa-code-branch"></i> <strong>Version note:</strong>
  <code class="language-plaintext highlighter-rouge">Isolate.exit()</code> was added in 2.15.
  Previous releases support only explicit message passing,
  using <code class="language-plaintext highlighter-rouge">Isolate.send()</code> as shown in the next section’s example.</p>
</aside>

<p>The following figure illustrates the communication between
the main isolate and the worker isolate:</p>

<p><img src="/guides/language/concurrency/images/isolate-api.png" alt="A figure showing the previous snippets of code running in the main isolate and in the worker isolate"></p>

<h3 id="sending-multiple-messages-between-isolates">
<a class="anchor" href="#sending-multiple-messages-between-isolates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Sending multiple messages between isolates</h3>

<p>If you need more communication between isolates,
then you need to use the <a href="https://api.dart.dev/stable/dart-isolate/SendPort/send.html"><code class="language-plaintext highlighter-rouge">send()</code> method</a> of <code class="language-plaintext highlighter-rouge">SendPort</code>.
One common pattern, which the following figure shows,
is for the main isolate to send a request message to the worker isolate,
which then sends one or more reply messages.</p>

<p><img src="/guides/language/concurrency/images/isolate-custom-bg-worker.png" alt="A figure showing the main isolate spawning the isolate and then sending a request message, which the worker isolate responds to with a reply message; two request-reply cycles are shown"></p>

<p>For examples of sending multiple messages,
see the following <a href="https://github.com/dart-lang/samples/tree/master/isolates">isolate samples</a>:</p>

<ul>
  <li>
<a href="https://github.com/dart-lang/samples/tree/master/isolates/bin/send_and_receive.dart">send_and_receive.dart</a>,
which shows how to send a message from
the main isolate to the spawned isolate.
It’s otherwise similar to the preceding example.</li>
  <li>
<a href="https://github.com/dart-lang/samples/tree/master/isolates/bin/long_running_isolate.dart">long_running_isolate.dart</a>,
which shows how to spawn a long-running isolate that
receives and sends multiple times.</li>
</ul>

<h2 id="performance-and-isolate-groups">
<a class="anchor" href="#performance-and-isolate-groups" aria-hidden="true"><span class="octicon octicon-link"></span></a>Performance and isolate groups</h2>

<p>When an isolate calls <a href="https://api.dart.dev/stable/dart-isolate/Isolate/spawn.html"><code class="language-plaintext highlighter-rouge">Isolate.spawn()</code></a>,
the two isolates have the same executable code
and are in the same <em>isolate group</em>.
Isolate groups enable performance optimizations such as sharing code;
a new isolate immediately runs the code owned by the isolate group.
Also, <code class="language-plaintext highlighter-rouge">Isolate.exit()</code> works only when the isolates
are in the same isolate group.</p>

<p>In some special cases,
you might need to use <a href="https://api.dart.dev/stable/dart-isolate/Isolate/spawnUri.html"><code class="language-plaintext highlighter-rouge">Isolate.spawnUri()</code></a>,
which sets up the new isolate with a copy of the code
that’s at the specified URI.
However, <code class="language-plaintext highlighter-rouge">spawnUri()</code> is much slower than <code class="language-plaintext highlighter-rouge">spawn()</code>,
and the new isolate isn’t in its spawner’s isolate group.
Another performance consequence is that message passing
is slower when isolates are in different groups.</p>

<aside class="alert alert-info" role="alert">
  <p><img src="/assets/img/shared/flutter/icon/64.png" width="24" alt="Flutter logo"> <strong>Flutter note:</strong>
  Flutter doesn’t support <code class="language-plaintext highlighter-rouge">Isolate.spawnUri()</code>.</p>
</aside>


          

        </div>
      </article>
    </main>
    <footer id="page-footer">
  <div class="footer-section footer-main">
    <a href="/" class="brand" title="Dart">
      <img src="/assets/img/shared/dart/logo+text/horizontal/white.svg" alt="Dart" width="164px">
    </a>
    <div class="footer-social-links">
      <a href="https://medium.com/dartlang" target="_blank" rel="noopener" title="Medium blog" class="no-automatic-external">
        <svg>
          <use href="/assets/img/social/medium.svg#medium"></use>
        </svg>
      </a>
      <a href="https://github.com/dart-lang" target="_blank" rel="noopener" title="GitHub" class="no-automatic-external">
        <svg>
          <use href="/assets/img/social/github.svg#github"></use>
        </svg>
      </a>
      <a href="https://twitter.com/dart_lang" target="_blank" rel="noopener" title="Twitter" class="no-automatic-external">
        <svg>
          <use href="/assets/img/social/twitter.svg#twitter"></use>
        </svg>
      </a>
    </div>
  </div>
  <div class="footer-section footer-tray">
    <div class="footer-licenses">
      Salvo que se indique lo contrario, este sitio está bajo una 
      <a href="https://creativecommons.org/licenses/by/4.0/" class="no-automatic-external">licencia internacional Creative Commons Attribution 4.0</a >, 
      y los ejemplos de código tienen licencia 
      <a href="https://opensource.org/licenses/BSD-3-Clause" class="no-automatic-external">3-Clause BSD License</a>.
    </div>
    <div class="footer-utility-links">
      <ul>
        <li><a href="/terms" title="Terms of use">Términos</a></li>
        <li><a href="https://policies.google.com/privacy" target="_blank" rel="noopener" title="Privacy policy" class="no-automatic-external">Privacidad</a></li>
        <li><a href="/security" title="Security philosophy and practices">Seguridad</a></li>
      </ul>
    </div>
  </div>
</footer>

   
  </body>
</html>
