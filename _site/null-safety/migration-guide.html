<!DOCTYPE html>
<html>
  

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Language" content="es_ES" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-M146BEZEJV"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-M146BEZEJV');
  </script>

  <meta name="description" content="How to move your existing Dart code to the world of null safety">
  <title>Migrating to null safety | Dart es Español</title>

  <!-- Favicon / Touch Icons -->
  <link rel="icon" sizes="64x64" href="/assets/shared/dart/icon/64.png">
  <link href="/assets/img/touch-icon-iphone.png" rel="apple-touch-icon">
  <link href="/assets/img/touch-icon-ipad.png" rel="apple-touch-icon" sizes="152x152">
  <link href="/assets/img/touch-icon-iphone-retina.png" rel="apple-touch-icon" sizes="180x180">
  <link href="/assets/img/touch-icon-ipad-retina.png" rel="apple-touch-icon" sizes="167x167">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@dart_lang" />
  <meta name="twitter:title" content="Migrating to null safety" />
  <meta name="twitter:description" content="How to move your existing Dart code to the world of null safety" />

  <!-- Open Graph -->
  <meta property="og:title" content="Migrating to null safety" />
  <meta property="og:description" content="How to move your existing Dart code to the world of null safety" />
  <meta property="og:url" content="https://dart.esdocu.com/null-safety/migration-guide.html" />
  
  <meta property="og:image" content="https://dart.esdocu.com/assets/shared/dart-logo-for-shares.png?2" />
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans+Display:wght@400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans+Mono:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap" rel="stylesheet">
  <script 
    src="https://use.fontawesome.com/releases/v5.15.4/js/all.js"
    data-auto-replace-svg="nest">
  </script>

  <link rel="stylesheet" href="/assets/css/main.css?v=1662143073">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
          integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK"
          crossorigin="anonymous"
          referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.1/umd/popper.min.js"
          integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
          crossorigin="anonymous"
          referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.1/js/bootstrap.min.js"
          integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2"
          crossorigin="anonymous"
          referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js" 
          integrity="sha512-wT7uPE7tOP6w4o28u1DN775jYjHQApdBnib5Pho4RB0Pgd9y7eSkAV1BTqQydupYDB9GBhTcQQzyNMPMV3cAew==" 
          crossorigin="anonymous" 
          referrerpolicy="no-referrer"></script>

  <script src="/assets/js/vendor/code-prettify/prettify.js"></script>
  <script src="/assets/js/vendor/code-prettify/lang-css.js"></script>
  <script src="/assets/js/vendor/code-prettify/lang-dart.js"></script>
  <script src="/assets/js/vendor/code-prettify/lang-yaml.js"></script>
  <script src="/assets/js/os-tabs.js?v=1662143073"></script>
  <script src="/assets/js/utilities.js?v=1662143073"></script>
  <script src="/assets/js/main.js?v=1662143073"></script>

  <script>

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-26406144-4', 'auto');
ga('send', 'pageview');

</script>


 </head>

  <body class="default show_banner">
    <section id="cookie-notice">
  <div class="container">
    <p>Google utiliza cookies para prestar sus servicios, personalizar anuncios y analizar el tráfico. 
      Puedes ajustar tus controles de privacidad en cualquier momento en tu 
      <a href="https://myaccount.google.com/data-and-personalization" target="_blank" rel="noopener" class="no-automatic-external">Configuración de Google</a>.
      <a href="https://policies.google.com/technologies/cookies" target="_blank" rel="noopener" class="no-automatic-external">Más información</a>.
    </p>
    <button id="cookie-consent" class="btn btn-primary">Entiendo</button>
  </div>
</section>

    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5VSZM5J"
 height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <header id="page-header" class="site-header">
  <nav id="mainnav" class="site-header">
  <div id="menu-toggle"><i class="material-icons">menu</i></div>
  <a href="/" class="brand" title="Dart es Español">
    <img src="/assets/img/shared/dart/logo+text/horizontal/white.svg" alt="Dart es Español">
  </a>
  <ul class="navbar">
    <li>
      <a href="/overview" class="nav-link">Overview</a>
    </li>
    <li class="mainnav__get-started">
      <a href="/guides" class="nav-link
        ">
        <span>Docs</span>
      </a>
    </li>
    <li>
      <a href="/community" class="nav-link">Comunidad</a>
    </li>
    <li>
      <a href="/#try-dart" class="nav-link">Probar Dart</a>
    </li>
    <li>
      <a href="/get-dart" class="nav-link">Obtener Dart</a>
    </li>
    <li class="searchfield">
      <form action="/search" class="site-header__search form-inline" id="cse-search-box">
        <input type="hidden" name="cx" value="011220921317074318178:_yy-tmb5t_i">
        <input type="hidden" name="ie" value="UTF-8">
        <input type="hidden" name="hl" value="en">
        <input class="site-header__searchfield form-control search-field" type="search" name="q"
          id="q" autocomplete="off" placeholder="Search" aria-label="Search">
      </form>
    </li>
  </ul>
</nav>

  
</header>
 <div class="banner">
  <p class="banner__text">
    Dart 2.18 ya está disponible con interoperabilidad de Objective-C y Swift y mejoras de networking, la inferencia de tipos y el rendimiento del código asíncrono. <a href="https://medium.com/@mit.mit/dart-2-18-f4b3101f146c">Más información</a><br>
    Los equipos de Flutter y Dart están contratando.
    <a href="https://docs.flutter.dev/jobs">Más información</a>
  </p>
</div> 

    <div id="sidenav" class="">
  <form action="/search/" class="site-header__search form-inline">
    <input class="site-header__searchfield form-control search-field" type="search" name="q"
           id="q" autocomplete="off" placeholder="Search" aria-label="Search">
  </form>

  <div class="site-sidebar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a href="/overview" class="nav-link">Overview</a>
      </li>
      <li class="nav-item">
        <a href="/community" class="nav-link">Comunidad</a>
      </li>
      <li class="nav-item">
        <a href="https://dartpad.dev" class="nav-link">Probar Dart</a>
      </li>
      <li class="nav-item">
        <a href="/get-dart" class="nav-link">Obtener Dart</a>
      </li>
      <li class="nav-item">
        <a href="/guides" class="nav-link">Docs</a>
      </li>
    </ul>

    <ul class="nav flex-column"><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-1" role="button"
        aria-expanded="false" aria-controls="sidenav-1"
      >Samples & tutorials</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-1">
        <li class="nav-item">
    <a class="nav-link" href="/samples">Language samples</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable"
      data-toggle="collapse" data-target="#sidenav-1-2"
      href="#sidenav-1-2" role="button"
      aria-expanded="true" aria-controls="sidenav-1-2"
    >Codelabs
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-1-2">
      <li class="nav-item">
    <a class="nav-link" href="/codelabs">List of Dart codelabs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/codelabs/dart-cheatsheet">Language cheatsheet</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/codelabs/iterables">Iterable collections</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/codelabs/async-await">Asynchronous programming</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/codelabs/null-safety">Null safety</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/tutorials">Tutorials</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link active" data-toggle="collapse" href="#sidenav-2" role="button"
        aria-expanded="true" aria-controls="sidenav-2"
      >Language</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-2">
        <li class="nav-item">
    <a class="nav-link" href="/guides/language/language-tour">Tour</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/type-system">Type system</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-2-3"
      href="#sidenav-2-3" role="button"
      aria-expanded="false" aria-controls="sidenav-2-3"
    >Effective Dart
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-2-3">
      <li class="nav-item">
    <a class="nav-link" href="/guides/language/effective-dart">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/effective-dart/style">Style</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/effective-dart/documentation">Documentation</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/effective-dart/usage">Usage</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/effective-dart/design">Design</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-2-4"
      href="#sidenav-2-4" role="button"
      aria-expanded="false" aria-controls="sidenav-2-4"
    >Coming from ...
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-2-4">
      <li class="nav-item">
    <a class="nav-link" href="/guides/language/coming-from/js-to-dart">JavaScript to Dart</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/guides/language/extension-methods">Extension methods</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/concurrency">Concurrency</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/numbers">Numbers</a>
  </li><li class="nav-item">
    <a class="nav-link active collapsable"
      data-toggle="collapse" data-target="#sidenav-2-8"
      href="#sidenav-2-8" role="button"
      aria-expanded="true" aria-controls="sidenav-2-8"
    >Null safety
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-2-8">
      <li class="nav-item">
    <a class="nav-link" href="/null-safety">Overview: Sound null safety</a>
  </li><li class="nav-item">
    <a class="nav-link active" href="/null-safety/migration-guide">Migrating to null safety</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/null-safety/understanding-null-safety">Understanding null safety</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/null-safety/unsound-null-safety">Unsound null safety</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/null-safety/faq">FAQ</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/guides/language/evolution">Evolution</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/spec">Specification</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-3" role="button"
        aria-expanded="false" aria-controls="sidenav-3"
      >Core libraries</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3">
        <li class="nav-item">
    <a class="nav-link" href="/guides/libraries">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/library-tour">Tour</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-3"
      href="#sidenav-3-3" role="button"
      aria-expanded="false" aria-controls="sidenav-3-3"
    >Articles
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-3">
      <li class="nav-item">
    <a class="nav-link" href="/articles/libraries/dart-io">Intro to dart:io</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/articles/libraries/creating-streams">Creating streams</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-4" role="button"
        aria-expanded="false" aria-controls="sidenav-4"
      >Packages</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-4">
        <li class="nav-item">
    <a class="nav-link" href="/guides/packages">How to use packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/useful-libraries">Commonly used packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/create-library-packages">Creating packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/publishing">Publishing packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/writing-package-pages">Writing package pages</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-4-6"
      href="#sidenav-4-6" role="button"
      aria-expanded="false" aria-controls="sidenav-4-6"
    >Package reference
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-4-6">
      <li class="nav-item">
    <a class="nav-link" href="/tools/pub/dependencies">Dependencies</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/glossary">Glossary</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/package-layout">Package layout conventions</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/environment-variables">Pub environment variables</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/pubspec">Pubspec file</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/troubleshoot">Troubleshooting pub</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/verified-publishers">Verified publishers</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/versioning">Versioning</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-5" role="button"
        aria-expanded="false" aria-controls="sidenav-5"
      >Development</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5">
        <li class="nav-item">
    <a class="nav-link" href="/codelabs/async-await">Futures, async, await</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/language/streams">Streams</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/json">JSON</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-4"
      href="#sidenav-5-4" role="button"
      aria-expanded="false" aria-controls="sidenav-5-4"
    >Interoperability
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-4">
      <li class="nav-item">
    <a class="nav-link" href="/guides/libraries/c-interop">C interop</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/objective-c-interop">Objective-C and Swift interop</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/web/js-interop">JavaScript interop</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/guides/google-apis">Google APIs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/multiplatform-apps">Multi-platform apps</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-7"
      href="#sidenav-5-7" role="button"
      aria-expanded="false" aria-controls="sidenav-5-7"
    >Command-line & server apps
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-7">
      <li class="nav-item">
    <a class="nav-link" href="/server">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/server/get-started">Get started</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/server/cmdline">Write command-line apps</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/server/httpserver">Write HTTP servers</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/server/libraries">Libraries and packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/server/google-cloud">Google Cloud</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-8"
      href="#sidenav-5-8" role="button"
      aria-expanded="false" aria-controls="sidenav-5-8"
    >Web apps
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-8">
      <li class="nav-item">
    <a class="nav-link" href="/web">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/web/get-started">Get started</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/web/fetch-data">Fetch data dynamically</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-8-4"
      href="#sidenav-5-8-4" role="button"
      aria-expanded="false" aria-controls="sidenav-5-8-4"
    >Low-level web programming
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-8-4">
      <li class="nav-item">
    <a class="nav-link" href="/tutorials/web/low-level-html/connect-dart-html">Connect Dart & HTML</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tutorials/web/low-level-html/add-elements">Add elements to the DOM</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tutorials/web/low-level-html/remove-elements">Remove DOM elements</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/web/deployment">Deployment</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/web/libraries">Libraries and packages</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-6" role="button"
        aria-expanded="false" aria-controls="sidenav-6"
      >Tools & techniques</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6">
        <li class="nav-item">
    <a class="nav-link" href="/tools">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-2"
      href="#sidenav-6-2" role="button"
      aria-expanded="false" aria-controls="sidenav-6-2"
    >Editors & debuggers
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-2">
      <li class="nav-item">
    <a class="nav-link" href="/tools/jetbrains-plugin">IntelliJ & Android Studio</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/vs-code">VS Code</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/dart-devtools">Dart DevTools</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/dartpad">DartPad</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-3"
      href="#sidenav-6-3" role="button"
      aria-expanded="false" aria-controls="sidenav-6-3"
    >Command-line tools
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-3">
      <li class="nav-item">
    <a class="nav-link collapsable"
      data-toggle="collapse" data-target="#sidenav-6-3-1"
      href="#sidenav-6-3-1" role="button"
      aria-expanded="true" aria-controls="sidenav-6-3-1"
    >Dart SDK
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-6-3-1">
      <li class="nav-item">
    <a class="nav-link" href="/tools/sdk">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-tool">dart</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-analyze">dart analyze</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-compile">dart compile</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-create">dart create</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-doc">dart doc</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-fix">dart fix</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-format">dart format</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/pub/cmd">dart pub</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-run">dart run</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-test">dart test</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dartaotruntime">dartaotruntime</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/experiment-flags">Experiment flags</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable"
      data-toggle="collapse" data-target="#sidenav-6-3-2"
      href="#sidenav-6-3-2" role="button"
      aria-expanded="true" aria-controls="sidenav-6-3-2"
    >Other command-line tools
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-6-3-2">
      <li class="nav-item">
    <a class="nav-link" href="/tools/build_runner">build_runner</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/webdev">webdev</a>
  </li>
  </ul>
  </li>
</ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-4"
      href="#sidenav-6-4" role="button"
      aria-expanded="false" aria-controls="sidenav-6-4"
    >Managing source code
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-4">
      <li class="nav-item">
    <a class="nav-link" href="/guides/language/formatting">Formatting code</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/private-files">What not to commit</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-5"
      href="#sidenav-6-5" role="button"
      aria-expanded="false" aria-controls="sidenav-6-5"
    >Static analysis
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-5">
      <li class="nav-item">
    <a class="nav-link" href="/guides/language/analysis-options">Customizing static analysis</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/sound-problems">Fixing common type problems</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/diagnostic-messages">Diagnostic messages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/linter-rules">Linter rules</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-6"
      href="#sidenav-6-6" role="button"
      aria-expanded="false" aria-controls="sidenav-6-6"
    >Testing & optimization
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-6">
      <li class="nav-item">
    <a class="nav-link" href="/guides/testing">Testing</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/web/debugging">Debugging web apps</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-7" role="button"
        aria-expanded="false" aria-controls="sidenav-7"
      >Resources</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7">
        <li class="nav-item">
    <a class="nav-link" href="/resources">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/resources/books">Books</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/resources/dartpad-best-practices">DartPad in tutorials: Best practices</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/code-of-conduct">Code of conduct</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/faq">FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-7-6"
      href="#sidenav-7-6" role="button"
      aria-expanded="false" aria-controls="sidenav-7-6"
    >History
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7-6">
      <li class="nav-item">
    <a class="nav-link" href="/dart-2">Migrating to Dart&nbsp;2</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/resources/videos">Videos</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link " data-toggle="collapse" href="#sidenav-8" role="button"
        aria-expanded="true" aria-controls="sidenav-8"
      >Related sites</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-8">
        <li class="nav-item">
    <a class="nav-link" href="https://api.dart.dev" target="_blank" rel="noopener">API reference<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://medium.com/dartlang" target="_blank" rel="noopener">Blog<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://dartpad.dev" target="_blank" rel="noopener">DartPad (online editor)<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://flutter.dev" target="_blank" rel="noopener">Flutter<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev" target="_blank" rel="noopener">Package site<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li>
</ul>
    </li></ul>

  </div>
</div>

    <main id="page-content">
      







<div id="site-toc--side" class="site-toc ">
  <header class="site-toc__title">
    Contents
    <button type="button" class="btn site-toc--button__page-top" aria-label="Page top"></button>
    
  </header>
  <ul id="toc" class="section-nav">
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#step1-wait">1. Wait to migrate</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#switch-to-the-latest-stable-dart-release">Switch to the latest stable Dart release</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#check-dependency-status">Check dependency status</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#update-dependencies">Update dependencies</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#step2-migrate">2. Migrate</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#migration-tool">Using the migration tool</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#migrating-by-hand">Migrating by hand</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#step3-analyze">3. Analyze</a></li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#step4-test">4. Test</a></li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#step5-publish">5. Publish</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#package-version">Update the package version</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#check-your-pubspec">Check your pubspec</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#welcome-to-null-safety">Welcome to null safety</a></li>
</ul>
</div>


      <article>
        <div class="content">
          

          <div>
            <div id="page-github-links" class="btn-group" aria-label="Page GitHub links" role="group">
  <a href="https://github.com/dart-lang/site-www/tree/main/src/null-safety/migration-guide.md" class="btn no-automatic-external" title="View page source" target="_blank" rel="noopener">
    <i class="fas fa-file-alt fa-sm"></i>
  </a>
  <a href="https://github.com/dart-lang/site-www/issues/new?template=1_page_issue.yml&title=[PAGE ISSUE]: 'Migrating to null safety'&page-url=https://dart.esdocu.com/null-safety/migration-guide.html&page-source=https://github.com/dart-lang/site-www/tree/main/src/null-safety/migration-guide.md" class="btn no-automatic-external" title="Report an issue with this page"
    target="_blank" rel="noopener">
    <i class="fas fa-bug fa-sm"></i>
  </a>
</div>

            <h1>Migrating to null safety</h1>
          </div>
          







<div id="site-toc--inline" class="site-toc toc-collapsible toc-collapsed">
  <header class="site-toc__title">
    Contents
    <button type="button" class="btn site-toc--button__page-top" aria-label="Page top"></button>
    
      <span class="site-toc--inline__toggle toc-toggle-down"><i class="material-icons">keyboard_arrow_down</i></span>
      <span class="site-toc--inline__toggle toc-toggle-up"><i class="material-icons">keyboard_arrow_up</i></span>
    
  </header>
  <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#step1-wait">1. Wait to migrate</a>
<ul>
<li class="toc-entry toc-h3"><a href="#switch-to-the-latest-stable-dart-release">Switch to the latest stable Dart release</a></li>
<li class="toc-entry toc-h3"><a href="#check-dependency-status">Check dependency status</a></li>
<li class="toc-entry toc-h3"><a href="#update-dependencies">Update dependencies</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#step2-migrate">2. Migrate</a>
<ul>
<li class="toc-entry toc-h3"><a href="#migration-tool">Using the migration tool</a></li>
<li class="toc-entry toc-h3"><a href="#migrating-by-hand">Migrating by hand</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#step3-analyze">3. Analyze</a></li>
<li class="toc-entry toc-h2"><a href="#step4-test">4. Test</a></li>
<li class="toc-entry toc-h2"><a href="#step5-publish">5. Publish</a>
<ul>
<li class="toc-entry toc-h3"><a href="#package-version">Update the package version</a></li>
<li class="toc-entry toc-h3"><a href="#check-your-pubspec">Check your pubspec</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#welcome-to-null-safety">Welcome to null safety</a></li>
</ul>
</div>


          <p>This page describes how and when to migrate your code to <a href="/null-safety">null safety</a>.
Here are the basic steps for migrating each package that you own:</p>

<ol>
  <li>
<a href="#step1-wait"><strong>Wait</strong></a> for the packages
that you depend on to migrate.</li>
  <li>
<a href="#step2-migrate"><strong>Migrate</strong></a> your package’s code,
preferably using the interactive migration tool.</li>
  <li>
<a href="#step3-analyze"><strong>Statically analyze</strong></a> your package’s code.</li>
  <li>
<a href="#step4-test"><strong>Test</strong></a> to make sure your changes work.</li>
  <li>If the package is already on pub.dev,
<a href="#step5-publish"><strong>publish</strong></a> the null-safe version
as a <strong>prerelease</strong> version.</li>
</ol>

<aside class="alert alert-success" role="alert">
  <p><i class="far fa-lightbulb"></i> <strong>Tip:</strong>
  If your application or library is large, check out
  <a href="https://medium.com/dartlang/gradual-null-safety-migration-for-large-dart-projects-85acb10b64a9">Gradual null safety migration for large Dart projects</a>.</p>
</aside>

<aside class="alert alert-info" role="alert">
  <p><i class="fas fa-info-circle"></i>
  <strong>Migrating an app is technically the same as migrating a package.</strong>
  Before migrating an app,
  make sure that all of your dependencies are ready.</p>
</aside>

<p>For an informal look at the experience of using the migration tool, watch this video:</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/eBr5tlumwlg" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<h2 id="step1-wait">
<a class="anchor" href="#step1-wait" aria-hidden="true"><span class="octicon octicon-link"></span></a>1. Wait to migrate</h2>

<p>We strongly recommend migrating code in order, 
with the leaves of the dependency graph being migrated first.
For example, if package C depends on package B, which depends on package A,
then A should be migrated to null safety first, then B, then C.</p>

<p><img src="/null-safety/null-safety-migration-order.png" alt="Illustration of C/B/A sentence" width="454px"><br></p>

<p>Although you <a href="/null-safety/unsound-null-safety"><em>can</em> migrate</a>
before your dependencies support null safety,
you might have to change your code when your dependencies migrate.
For example, if you predict that a function will take a nullable parameter but
the package migrates it to be non-nullable,
then passing a nullable argument becomes a compile error.</p>

<aside class="alert alert-info" role="alert">
  <p><i class="fas fa-info-circle"></i>
  <strong>You can—and should—migrate your package before
  packages that depend on it are migrated.</strong>
  Your null-safe package is usable by packages and apps that
  don’t use null safety yet,
  as long as they use Dart 2.12 or later.
  For example, the Dart and Flutter core libraries are null safe,
  and they’re still usable by apps that haven’t migrated to null safety.</p>
</aside>

<p>This section tells you how to
check and update your package’s dependencies,
with the help of the <code class="language-plaintext highlighter-rouge">dart pub outdated</code> command in null-safety mode.
The instructions assume your code is under <strong>source control</strong>,
so that you can easily undo any changes.</p>

<h3 id="switch-to-the-latest-stable-dart-release">
<a class="anchor" href="#switch-to-the-latest-stable-dart-release" aria-hidden="true"><span class="octicon octicon-link"></span></a>Switch to the latest stable Dart release</h3>

<p>Switch to the <strong>latest stable release</strong>
of either the Dart SDK or the Flutter SDK.</p>

<p>Check that you have Dart 2.12 or later:</p>
<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>dart <span class="nt">--version</span>
</code></pre></div></div>

<h3 id="check-dependency-status">
<a class="anchor" href="#check-dependency-status" aria-hidden="true"><span class="octicon octicon-link"></span></a>Check dependency status</h3>

<p>Get the migration state of your package’s dependencies,
using the following command:</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>dart pub outdated <span class="nt">--mode</span><span class="o">=</span>null-safety
</code></pre></div></div>

<p>If the output says that all the packages support null safety,
then you can start migrating.
Otherwise, use the <strong>Resolvable</strong> column to find
null-safe releases, if they exist.</p>

<aside class="alert alert-info" role="alert">
  <p><i class="fas fa-info-circle"></i>
  <strong>Why do all dependencies need to support null safety?</strong>
  When all of an app’s direct dependencies support null safety,
  you can <em>run the app</em> with sound null safety.
  When all the dev dependencies support null safety,
  you can <em>run tests</em> with sound null safety.
  You might also need null-safe dev dependencies for other reasons,
  such as code generation.</p>
</aside>

<p>Here’s an example of the output for a simple package.
The green checkmarked version for each package supports null safety:</p>

<p><img src="/null-safety/pub-outdated-output.png" alt="Output of dart pub outdated"></p>

<p>The output shows that all of the package’s dependencies
have resolvable prereleases that support null safety.</p>

<p>If any of your package’s dependencies <em>don’t</em> yet support null safety,
we encourage you to reach out to the package owner.
You can find contact details on the package page on <a href="https://pub.dev">pub.dev</a>.</p>

<h3 id="update-dependencies">
<a class="anchor" href="#update-dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Update dependencies</h3>

<p>Before migrating your package’s code,
update its dependencies to null-safe versions:</p>

<ol>
  <li>
    <p>Run <code class="language-plaintext highlighter-rouge">dart pub upgrade --null-safety</code> to upgrade to the latest versions
supporting null safety.
<strong>Note:</strong> This command changes your <code class="language-plaintext highlighter-rouge">pubspec.yaml</code> file.</p>
  </li>
  <li>
    <p>Run <code class="language-plaintext highlighter-rouge">dart pub get</code>.</p>
  </li>
</ol>

<h2 id="step2-migrate">
<a class="anchor" href="#step2-migrate" aria-hidden="true"><span class="octicon octicon-link"></span></a>2. Migrate</h2>

<p>Most of the changes that your code needs to be null safe
are easily predictable.
For example, if a variable can be <code class="language-plaintext highlighter-rouge">null</code>,
<a href="/null-safety#creating-variables">its type needs a <code class="language-plaintext highlighter-rouge">?</code> suffix</a>.
A named parameter that shouldn’t be nullable
needs to be <a href="/null-safety/understanding-null-safety#required-named-parameters">marked <code class="language-plaintext highlighter-rouge">required</code></a>.</p>

<p>You have two options for migrating:</p>

<ul>
  <li>
<a href="#migration-tool">Use the migration tool</a>,
which can make most of the easily predictable changes for you.</li>
  <li><a href="#migrating-by-hand">Migrate your code by hand.</a></li>
</ul>

<aside class="alert alert-success" role="alert">
  <p><i class="far fa-lightbulb"></i> <strong>Tip:</strong>
  For additional help while migrating code, check the
  <a href="/null-safety/faq">null safety FAQ</a>.</p>
</aside>

<h3 id="migration-tool">
<a class="anchor" href="#migration-tool" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using the migration tool</h3>

<p>The migration tool takes a package of null-unsafe Dart code
and converts it to null safety.
You can guide the tool’s conversion by
adding <a href="#hint-markers">hint markers</a> to your Dart code.</p>

<p>Before starting the tool, make sure you’re ready:</p>

<ul>
  <li>Use the latest stable release of the Dart SDK.</li>
  <li>Use <code class="language-plaintext highlighter-rouge">dart pub outdated --mode=null-safety</code> to make sure that
all dependencies are null safe and up-to-date.</li>
</ul>

<p>Start the migration tool by running the <code class="language-plaintext highlighter-rouge">dart migrate</code> command
in the directory that contains the package’s <code class="language-plaintext highlighter-rouge">pubspec.yaml</code> file:</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>dart migrate
</code></pre></div></div>

<p>If your package is ready to migrate,
then the tool produces a line like the following:</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">View the migration suggestions by visiting:

  http://127.0.0.1:60278/Users/you/project/mypkg.console-simple?authToken=Xfz0jvpyeMI%3D
</span></code></pre></div></div>

<p>Visit that URL in a Chrome browser
to see an interactive UI
where you can guide the migration process:</p>

<p><img src="/null-safety/migration-tool.png" alt="Screenshot of migration tool"></p>

<p>For every variable and type annotation,
you can see what nullability the tool infers.
For example, in the preceding screenshot,
the tool infers that the <code class="language-plaintext highlighter-rouge">ints</code> list (previously a list of <code class="language-plaintext highlighter-rouge">int</code>)
in line 1 is nullable, and thus should be a list of <code class="language-plaintext highlighter-rouge">int?</code>.</p>

<h4 id="understanding-migration-results">Understanding migration results</h4>

<p>To see the reasons for each change (or non-change),
click its line number in the <strong>Proposed Edits</strong> pane.
The reasons appear in the <strong>Edit Details</strong> pane.</p>

<p>For example, consider the following code,
from before null safety:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="n">ints</span> <span class="o">=</span> <span class="kd">const</span> <span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;[</span><span class="mi">0</span><span class="o">,</span> <span class="kc">null</span><span class="o">];</span>
<span class="kd">var</span> <span class="n">zero</span> <span class="o">=</span> <span class="n">ints</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
<span class="kd">var</span> <span class="n">one</span> <span class="o">=</span> <span class="n">zero</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
<span class="kd">var</span> <span class="n">zeroOne</span> <span class="o">=</span> <span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;[</span><span class="n">zero</span><span class="o">,</span> <span class="n">one</span><span class="o">];</span>
</code></pre></div></div>

<p>The default migration when this code is outside a function
(it’s different within a function)
is backward compatible but not ideal:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="n">ints</span> <span class="o">=</span> <span class="kd">const</span> <span class="o">&lt;</span><span class="kt">int</span><span class="o">?&gt;[</span><span class="mi">0</span><span class="o">,</span> <span class="kc">null</span><span class="o">];</span>
<span class="kd">var</span> <span class="n">zero</span> <span class="o">=</span> <span class="n">ints</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
<span class="kd">var</span> <span class="n">one</span> <span class="o">=</span> <span class="n">zero</span><span class="o">!</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
<span class="kd">var</span> <span class="n">zeroOne</span> <span class="o">=</span> <span class="o">&lt;</span><span class="kt">int</span><span class="o">?&gt;[</span><span class="n">zero</span><span class="o">,</span> <span class="n">one</span><span class="o">];</span>
</code></pre></div></div>

<p>By clicking the <strong>line 3</strong> link,
you can see the migration tool’s reasons for
adding the <code class="language-plaintext highlighter-rouge">!</code>.
Because you know that <code class="language-plaintext highlighter-rouge">zero</code> can’t be null,
you can improve the migration result.</p>

<h4 id="hint-markers">Improving migration results</h4>

<p>When analysis infers the wrong nullability,
you can override its proposed edits by inserting temporary hint markers:</p>

<ul>
  <li>
    <p>In the <strong>Edit Details</strong> pane of the migration tool,
you can insert hint markers using the
<strong>Add <code class="language-plaintext highlighter-rouge">/*?*/</code> hint</strong> and <strong>Add <code class="language-plaintext highlighter-rouge">/*!*/</code> hint</strong> buttons.</p>

    <p>These buttons add comments to your file immediately,
and there’s <strong>no Undo</strong>.
If you don’t want a hint that the tool inserted,
you can use your usual code editor to remove it.</p>
  </li>
  <li>
    <p>You can use an editor to add hint markers,
even while the tool is still running.
Because your code hasn’t opted into null safety yet,
you can’t use new null-safety features.
You can, however, make changes like refactoring
that don’t depend on null-safety features.</p>

    <p>When you’ve finished editing your code,
click <strong>Rerun from sources</strong> to pick up your changes.</p>
  </li>
</ul>

<p>The following table shows the hint markers that you can use
to change the migration tool’s proposed edits.</p>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Hint marker</th>
      <th>Effect on the migration tool</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code><em>expression</em> /*!*/</code></td>
      <td>Adds a <code class="language-plaintext highlighter-rouge">!</code> to the migrated code, casting <em>expression</em> to its underlying non-nullable type.</td>
    </tr>
    <tr>
      <td><code><em>type</em> /*!*/</code></td>
      <td>Marks <em>type</em> as non-nullable.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">/*?*/</code></td>
      <td>Marks the preceding type as nullable.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">/*late*/</code></td>
      <td>Marks the variable declaration as <code class="language-plaintext highlighter-rouge">late</code>, indicating that it has late initialization.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">/*late final*/</code></td>
      <td>Marks the variable declaration as <code class="language-plaintext highlighter-rouge">late final</code>, indicating that it has late, one-time initialization.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">/*required*/</code></td>
      <td>Marks the parameter as <code class="language-plaintext highlighter-rouge">required</code>.</td>
    </tr>
  </tbody>
</table>

<p>A single hint can have ripple effects elsewhere in the code.
In the example from before,
manually adding a <code class="language-plaintext highlighter-rouge">/*!*/</code> marker where <code class="language-plaintext highlighter-rouge">zero</code> is assigned its value (on line 2)
makes the migration tool infer the type of <code class="language-plaintext highlighter-rouge">zero</code> as <code class="language-plaintext highlighter-rouge">int</code> instead of <code class="language-plaintext highlighter-rouge">int?</code>.
This type change can affect code that directly or indirectly uses <code class="language-plaintext highlighter-rouge">zero</code>.</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="n">zero</span> <span class="o">=</span> <span class="n">ints</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="cm">/*!*/</span><span class="o">;</span>
</code></pre></div></div>

<p>With the above hint, the migration tool changes its proposed edits,
as the following code snippets show.
Line 3 no longer has a <code class="language-plaintext highlighter-rouge">!</code> after <code class="language-plaintext highlighter-rouge">zero</code>,
and in line 4 <code class="language-plaintext highlighter-rouge">zeroOne</code> is inferred to be
a list of <code class="language-plaintext highlighter-rouge">int</code>, not <code class="language-plaintext highlighter-rouge">int?</code>.</p>

<table>
<tr>
<th>First migration</th>
<th>Migration with hint</th>
</tr>
<tr>
  <td>
      <div class="language-dart highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="n">ints</span> <span class="o">=</span> <span class="kd">const</span> <span class="o">&lt;</span><span class="kt">int</span><span class="o">?&gt;[</span><span class="mi">0</span><span class="o">,</span> <span class="kc">null</span><span class="o">];</span>
<span class="kd">var</span> <span class="n">zero</span> <span class="o">=</span> <span class="n">ints</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
<span class="kd">var</span> <span class="n">one</span> <span class="o">=</span> <span class="n">zero</span><span class="o">!</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
<span class="kd">var</span> <span class="n">zeroOne</span> <span class="o">=</span> <span class="o">&lt;</span><span class="kt">int</span><span class="o">?&gt;[</span><span class="n">zero</span><span class="o">,</span> <span class="n">one</span><span class="o">];</span>
</code></pre></div>      </div>
    </td>
  <td>
      <div class="language-dart highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="n">ints</span> <span class="o">=</span> <span class="kd">const</span> <span class="o">&lt;</span><span class="kt">int</span><span class="o">?&gt;[</span><span class="mi">0</span><span class="o">,</span> <span class="kc">null</span><span class="o">];</span>
<span class="kd">var</span> <span class="n">zero</span> <span class="o">=</span> <span class="n">ints</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="cm">/*!*/</span><span class="o">;</span>
<span class="kd">var</span> <span class="n">one</span> <span class="o">=</span> <span class="n">zero</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
<span class="kd">var</span> <span class="n">zeroOne</span> <span class="o">=</span> <span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;[</span><span class="n">zero</span><span class="o">,</span> <span class="n">one</span><span class="o">];</span>
</code></pre></div>      </div>
    </td>
</tr>
</table>

<h4 id="opting-out-files">Opting out files</h4>

<p>Although we recommend migrating all at once,
sometimes that isn’t practical,
especially in a large app or package.
To opt out a file or directory,
click its green checkbox.
Later, when you apply changes,
each opted out file will be unchanged
except for a 2.9 <a href="/guides/language/evolution#per-library-language-version-selection">version comment</a>.</p>

<p>For more information about incremental migration, see
<a href="/null-safety/unsound-null-safety">Unsound null safety</a>.</p>

<h4 id="applying-changes">Applying changes</h4>

<p>When you like all of the changes
that the migration tool proposes, click <strong>Apply migration</strong>.
The migration tool deletes the hint markers and
saves the migrated code.
The tool also updates the minimum SDK constraint in the pubspec,
which opts the package into null safety.</p>

<p>The next step is to <a href="#step3-analyze">statically analyze your code</a>.
If it’s valid, then <a href="#step4-test">test your code</a>.
Then, if you’ve published your code on pub.dev,
<a href="#step5-publish">publish a null-safe prerelease</a>.</p>

<h3 id="migrating-by-hand">
<a class="anchor" href="#migrating-by-hand" aria-hidden="true"><span class="octicon octicon-link"></span></a>Migrating by hand</h3>

<p>If you prefer not to use the migration tool,
you can migrate manually.</p>

<p>We recommend that you <strong>first migrate leaf libraries</strong>—libraries 
that don’t import other files from the package.
Then migrate libraries that directly depend on the leaf libraries.
End by migrating the libraries that have the most
intra-package dependencies.</p>

<p>For example, say you have a <code class="language-plaintext highlighter-rouge">lib/src/util.dart</code> file
that imports other (null-safe) packages and core libraries,
but that doesn’t have any <code class="language-plaintext highlighter-rouge">import '&lt;local_path&gt;'</code> directives.
Consider migrating <code class="language-plaintext highlighter-rouge">util.dart</code> first,
and then migrating simple files that depend only on <code class="language-plaintext highlighter-rouge">util.dart</code>.
If any libraries have cyclic imports
(for example, A imports B which imports C, and C imports A),
consider migrating those libraries together.</p>

<p>To migrate a package by hand, follow these steps:</p>

<ol>
  <li>Edit the package’s <code class="language-plaintext highlighter-rouge">pubspec.yaml</code> file,
setting the minimum SDK constraint to at least <code class="language-plaintext highlighter-rouge">2.12.0</code>:
    <div class="language-yaml highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="na">environment</span><span class="pi">:</span>
  <span class="na">sdk</span><span class="pi">:</span> <span class="s1">'</span><span class="s">&gt;=2.12.0</span><span class="nv"> </span><span class="s">&lt;3.0.0'</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Regenerate the <a href="https://github.com/dart-lang/language/blob/master/accepted/future-releases/language-versioning/package-config-file-v2.md">package configuration file</a>:</p>

    <div class="language-terminal highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>dart pub get
</code></pre></div>    </div>

    <p>Running <code class="language-plaintext highlighter-rouge">dart pub get</code> with a lower SDK constraint of at least <code class="language-plaintext highlighter-rouge">2.12.0</code>
sets the default language version of
every library in the package to a minimum of 2.12,
opting them all in to null safety.</p>
  </li>
  <li>
    <p>Open the package in your IDE. <br>
You’re likely to see a lot of analysis errors.
That’s OK.</p>
  </li>
  <li>Migrate the code of each Dart file,
using the analyzer to identify static errors. <br>
Eliminate static errors by adding <code class="language-plaintext highlighter-rouge">?</code>, <code class="language-plaintext highlighter-rouge">!</code>, <code class="language-plaintext highlighter-rouge">required</code>, and <code class="language-plaintext highlighter-rouge">late</code>,
as needed.</li>
</ol>

<p>See <a href="/null-safety/unsound-null-safety">Unsound null safety</a>
for more help on migrating code by hand.</p>

<h2 id="step3-analyze">
<a class="anchor" href="#step3-analyze" aria-hidden="true"><span class="octicon octicon-link"></span></a>3. Analyze</h2>

<p>Update your packages
(using <code class="language-plaintext highlighter-rouge">dart pub get</code> in your IDE or on the command line).
Then use your IDE or the command line
to perform <a href="/guides/language/analysis-options">static analysis</a> on your code:</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>dart pub get
<span class="gp">$</span><span class="w"> </span>dart analyze     <span class="c"># or `flutter analyze`</span>
</code></pre></div></div>

<h2 id="step4-test">
<a class="anchor" href="#step4-test" aria-hidden="true"><span class="octicon octicon-link"></span></a>4. Test</h2>

<p>If your code passes analysis, run tests:</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>dart <span class="nb">test</span>       <span class="c"># or `flutter test`</span>
</code></pre></div></div>

<p>You might need to update tests that expect null values.</p>

<p>If you need to make large changes to your code,
then you might need to remigrate it.
If so, revert your code changes before using the migration tool again.</p>

<h2 id="step5-publish">
<a class="anchor" href="#step5-publish" aria-hidden="true"><span class="octicon octicon-link"></span></a>5. Publish</h2>

<p>We encourage you to publish packages—possibly as prereleases—as 
soon as you migrate:</p>

<ul>
  <li><a href="#package-version">Set the package version to indicate a breaking change.</a></li>
  <li><a href="#check-your-pubspec">Update the SDK constraints and package dependencies.</a></li>
  <li>
<a href="/tools/pub/publishing">Publish the package</a>.
If you don’t consider this version to be a stable release, 
then <a href="/tools/pub/publishing#publishing-prereleases">publish the package as a prerelease</a>.</li>
</ul>

<h3 id="package-version">
<a class="anchor" href="#package-version" aria-hidden="true"><span class="octicon octicon-link"></span></a>Update the package version</h3>

<p>Update the version of the package
to indicate a breaking change:</p>

<ul>
  <li>
    <p>If your package is already at <code class="language-plaintext highlighter-rouge">1.0.0</code> or greater,
increase the major version.
For example, if the previous version is <code class="language-plaintext highlighter-rouge">2.3.2</code>,
the new version is <code class="language-plaintext highlighter-rouge">3.0.0</code>.</p>
  </li>
  <li>
    <p>If your package hasn’t reached <code class="language-plaintext highlighter-rouge">1.0.0</code> yet,
<em>either</em> increase the minor version <em>or</em> update the version to <code class="language-plaintext highlighter-rouge">1.0.0</code>.
For example, if the previous version is <code class="language-plaintext highlighter-rouge">0.3.2</code>,
the new version is either <code class="language-plaintext highlighter-rouge">0.4.0</code> or <code class="language-plaintext highlighter-rouge">1.0.0</code>.</p>
  </li>
</ul>

<h3 id="check-your-pubspec">
<a class="anchor" href="#check-your-pubspec" aria-hidden="true"><span class="octicon octicon-link"></span></a>Check your pubspec</h3>

<p>Before you publish a stable null safety version of a package, 
we strongly recommend following these pubspec rules:</p>

<ul>
  <li>Set the Dart lower SDK constraint to the lowest stable version
that you’ve tested against (at least <code class="language-plaintext highlighter-rouge">2.12.0</code>).</li>
  <li>Use stable versions of all direct dependencies.</li>
</ul>

<h2 id="welcome-to-null-safety">
<a class="anchor" href="#welcome-to-null-safety" aria-hidden="true"><span class="octicon octicon-link"></span></a>Welcome to null safety</h2>

<p>If you made it this far,
you should have a fully migrated, null-safe Dart package.
If all of the packages you depend on are migrated too,
then your program is sound with respect to null-reference errors.</p>

<p>From all of the Dart team, <em>thank you</em> for migrating your code.</p>

          

        </div>
      </article>
    </main>
    <footer id="page-footer">
  <div class="footer-section footer-main">
    <a href="/" class="brand" title="Dart">
      <img src="/assets/img/shared/dart/logo+text/horizontal/white.svg" alt="Dart" width="164px">
    </a>
    <div class="footer-social-links">
      <a href="https://medium.com/dartlang" target="_blank" rel="noopener" title="Medium blog" class="no-automatic-external">
        <svg>
          <use href="/assets/img/social/medium.svg#medium"></use>
        </svg>
      </a>
      <a href="https://github.com/dart-lang" target="_blank" rel="noopener" title="GitHub" class="no-automatic-external">
        <svg>
          <use href="/assets/img/social/github.svg#github"></use>
        </svg>
      </a>
      <a href="https://twitter.com/dart_lang" target="_blank" rel="noopener" title="Twitter" class="no-automatic-external">
        <svg>
          <use href="/assets/img/social/twitter.svg#twitter"></use>
        </svg>
      </a>
    </div>
  </div>
  <div class="footer-section footer-tray">
    <div class="footer-licenses">
      Salvo que se indique lo contrario, este sitio está bajo una 
      <a href="https://creativecommons.org/licenses/by/4.0/" class="no-automatic-external">licencia internacional Creative Commons Attribution 4.0</a >, 
      y los ejemplos de código tienen licencia 
      <a href="https://opensource.org/licenses/BSD-3-Clause" class="no-automatic-external">3-Clause BSD License</a>.
    </div>
    <div class="footer-utility-links">
      <ul>
        <li><a href="/terms" title="Terms of use">Términos</a></li>
        <li><a href="https://policies.google.com/privacy" target="_blank" rel="noopener" title="Privacy policy" class="no-automatic-external">Privacidad</a></li>
        <li><a href="/security" title="Security philosophy and practices">Seguridad</a></li>
      </ul>
    </div>
  </div>
</footer>

   
  </body>
</html>
